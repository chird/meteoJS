/*! /*meteoJS v1.8.1 | (c) Ivo Sonderegger, SRF Meteo | https://chird.github.io/meteoJS/LICENSE* / */
var SVG=SVG||{},jQuery=jQuery||{},ol=ol||{layer:{},source:{},format:{},style:{}},Popper=Popper||{},bootstrap=bootstrap||{},meteoJS=function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=17)}([function(t,e){t.exports=jQuery},function(t,e){t.exports=ol.layer.Group},function(t,e){t.exports=ol.proj},function(t,e){t.exports=SVG},function(t,e){t.exports=ol.layer.Vector},function(t,e){t.exports=ol.format.GeoJSON},function(t,e){t.exports=ol.Observable},function(t,e){t.exports=ol.source.Vector},function(t,e){t.exports=ol.source.VectorTile},function(t,e){t.exports=ol.layer.VectorTile},function(t,e){t.exports=ol.source.ImageStatic},function(t,e){t.exports=ol.layer.Image},function(t,e){t.exports=ol.source.OSM},function(t,e){t.exports=ol.layer.Tile},function(t,e,i){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=function(t){"use strict";var i=Object.prototype,n=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function u(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,i){return t[e]=i}}function l(t,e,i,n){var o=e&&e.prototype instanceof f?e:f,r=Object.create(o.prototype),s=new T(n||[]);return r._invoke=function(t,e,i){var n="suspendedStart";return function(o,r){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw r;return x()}for(i.method=o,i.arg=r;;){var s=i.delegate;if(s){var a=O(s,i);if(a){if(a===d)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var u=c(t,e,i);if("normal"===u.type){if(n=i.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(n="completed",i.method="throw",i.arg=u.arg)}}}(t,i,s),r}function c(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var d={};function f(){}function p(){}function h(){}var v={};v[r]=function(){return this};var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==i&&n.call(m,r)&&(v=m);var g=h.prototype=f.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,i){var o;this._invoke=function(r,s){function a(){return new i((function(o,a){!function o(r,s,a,u){var l=c(t[r],t,s);if("throw"!==l.type){var d=l.arg,f=d.value;return f&&"object"===e(f)&&n.call(f,"__await")?i.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):i.resolve(f).then((function(t){d.value=t,a(d)}),(function(t){return o("throw",t,a,u)}))}u(l.arg)}(r,s,o,a)}))}return o=o?o.then(a,a):a()}}function O(t,e){var i=t.iterator[e.method];if(void 0===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=c(i,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,d;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function k(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=g.constructor=h,h.constructor=p,p.displayName=u(h,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),w.prototype[s]=function(){return this},t.AsyncIterator=w,t.async=function(e,i,n,o,r){void 0===r&&(r=Promise);var s=new w(l(e,i,n,o),r);return t.isGeneratorFunction(i)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(g),u(g,a,"Generator"),g[r]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=k,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,n){return s.type="throw",s.arg=t,e.next=i,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],s=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var a=n.call(r,"catchLoc"),u=n.call(r,"finallyLoc");if(a&&u){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=e,r?(this.method="next",this.next=r.finallyLoc,d):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),S(i),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var o=n.arg;S(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:k(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),d}},t}("object"===e(t)?t.exports:{});try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}}).call(this,i(15)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=bootstrap},function(t,e,i){"use strict";i.r(e),i.d(e,"calc",(function(){return n})),i.d(e,"events",(function(){return Os})),i.d(e,"RepetitiveRequests",(function(){return Y})),i.d(e,"Timeline",(function(){return z})),i.d(e,"timeline",(function(){return _s})),i.d(e,"Synview",(function(){return Ee})),i.d(e,"synview",(function(){return Ss})),i.d(e,"Tooltip",(function(){return en})),i.d(e,"tooltip",(function(){return Ts})),i.d(e,"Sounding",(function(){return Nn})),i.d(e,"sounding",(function(){return ks})),i.d(e,"ThermodynamicDiagramPluggable",(function(){return ho})),i.d(e,"ThermodynamicDiagram",(function(){return bs})),i.d(e,"thermodynamicDiagram",(function(){return xs}));var n={};i.r(n),i.d(n,"altitudeISAByPres",(function(){return o})),i.d(n,"pressureISAByAltitude",(function(){return r})),i.d(n,"potentialTempByTempAndPres",(function(){return s})),i.d(n,"tempByPotentialTempAndPres",(function(){return a})),i.d(n,"tempByEquiPotTempAndPres",(function(){return u})),i.d(n,"dewpointByHMRAndPres",(function(){return l})),i.d(n,"wetbulbTempByTempAndDewpointAndPres",(function(){return c})),i.d(n,"equiPotentialTempByTempAndDewpointAndPres",(function(){return d})),i.d(n,"saturationPressureByTemp",(function(){return f})),i.d(n,"saturationHMRByTempAndPres",(function(){return p})),i.d(n,"lclByPotentialTempAndHMR",(function(){return h})),i.d(n,"potentialTempByLCLAndHMR",(function(){return v})),i.d(n,"lclTemperatureByTempAndDewpoint",(function(){return y})),i.d(n,"tempCelsiusToKelvin",(function(){return m})),i.d(n,"tempKelvinToCelsius",(function(){return g})),i.d(n,"windspeedMSToKMH",(function(){return b})),i.d(n,"windspeedKMHToMS",(function(){return w})),i.d(n,"windspeedMSToKN",(function(){return O})),i.d(n,"windspeedKNToMS",(function(){return _})),i.d(n,"windspeedMSToBF",(function(){return S})),i.d(n,"windspeedBFToMS",(function(){return T})),i.d(n,"snowlineByTemp850hPaAndAltidude",(function(){return k})),i.d(n,"pressureByBarometricFormula",(function(){return x})),i.d(n,"densityHumidAirByPressureAndTempAndRelHumidity",(function(){return P}));i(14);function o(t){if(void 0!==t&&!isNaN(t))return 44330.769*(1-Math.pow(t/1013.25,.19029496))}function r(t){if(void 0!==t&&!isNaN(t))return 1013.25*Math.pow(1-t/44330.769,5.255)}function s(t,e){if(void 0!==t&&!isNaN(t)&&void 0!==e&&!isNaN(e))return t*Math.pow(1e3/e,.286)}function a(t,e){if(void 0!==t&&!isNaN(t)&&void 0!==e&&!isNaN(e))return t*Math.pow(e/1e3,.286)}function u(t,e){if(void 0!==e&&!isNaN(e)){for(var i=void 0,n=Math.pow(1e3/e,.286),o=273,r=20,s=0;Math.abs(r)>.1&&s<100;)s++,i=p(o,e),(o*n*Math.exp(2.5*i/o)-t)*r>0&&(r*=-.5),o+=r;return o}}function l(t,e){if(void 0!==t&&!isNaN(t)&&void 0!==e&&!isNaN(e)){var i=.4343*Math.log(t*e/(622+t));return Math.pow(10,.0498646455*i+2.4082965)-7.07475+38.9114*Math.pow(Math.pow(10,.0915*i)-1.2035,2)}}function c(t,e,i){if(!(void 0===t||isNaN(t)||void 0===e||isNaN(e)||void 0===i||isNaN(i))){for(var n=e-273.15,o=1,r=10,s=1,a=6.112*Math.exp(17.67*n/(n+243.5));Math.abs(o)>.05;){if(0==(o=a-(6.112*Math.exp(17.67*n/(n+243.5))-i*(t-273.15-n)*66e-5*(1+.00115*n))))break;if(o<0?-1!=s&&(s=-1,r/=10):1!=s&&(s=1,r/=10),Math.abs(o)<=.05)break;n+=r*s}return n+273.15}}function d(t,e,i){var n=s(t,i);if(!(void 0===n||void 0===e||isNaN(e)||void 0===t||isNaN(t)||void 0===i||isNaN(i)))return n*Math.exp(2.4819*p(e,i)/y(t,e))}function f(t){if(void 0!==t&&!isNaN(t)){var e=new Array(6.1104546,.4442351,.014302099,.00026454708,30357098e-13,2.0972268e-8,60487594e-18,-1469687e-19),i=new Array(.06485546857696639,.03783195122560735,.02224449342887902,.013182892842468312,.007874020771412448,.004739730494884733,.0028751203550435793,.001757430376758103,.0010824173951885098,.0006717089391856059,.0004199647026320394,.0002645243638634699,.00016784796373681322,.00010728539763162038,6907426344961356e-20,4479404897680843e-20,2925704195639373e-20,19245291263499416e-21,12749137241074795e-21,8505070102755051e-21,5713400253349711e-21,3864650296738762e-21,2632109719650053e-21,18049107293057043e-22,12460785055581605e-22,8.660705713468708e-7,6.059822176688955e-7,4.2682119794324277e-7,3.026165085143795e-7,2.15963854234914e-7,1.5512895457833687e-7),n=0;if((t-=273.15)>-50)n=e[0]+t*(e[1]+t*(e[2]+t*(e[3]+t*(e[4]+t*(e[5]+t*(e[6]+t*e[7]))))));else{var o=(-t-50)/5;n=0<i.length-1?i[0]+o%1*(i[1]-i[0]):1e-7}return n}}function p(t,e){var i=f(t);if(void 0!==i&&void 0!==e&&!isNaN(e))return 621.97*i/(e-i)}function h(t,e){if(void 0!==e&&!isNaN(e)){for(var i=1013,n=100;i-n>10;){var o=n+(i-n)/2,r=p(a(t,o),o);if(void 0===r)return;r<e?n=o:i=o}return n+(i-n)/2}}function v(t,e){if(void 0!==t&&!isNaN(t)){for(var i=323,n=223;i-n>.1;){var o=n+(i-n)/2,r=h(o,e);if(void 0===r)return;r>t?n=o:i=o}return n+(i-n)/2}}function y(t,e){if(void 0!==t&&!isNaN(t)&&void 0!==e&&!isNaN(e))return e-(.001296*e-.15772)*(t-e)}function m(t){return void 0===t||isNaN(t)?void 0:t+273.15}function g(t){return void 0===t||isNaN(t)?void 0:t-273.15}function b(t){return void 0===t||isNaN(t)?void 0:3.6*t}function w(t){return void 0===t||isNaN(t)?void 0:t/3.6}function O(t){return void 0===t||isNaN(t)?void 0:900*t/463}function _(t){return void 0===t||isNaN(t)?void 0:463*t/900}function S(t){return void 0===t||isNaN(t)?void 0:Math.min(12,Math.pow(t/.836,2/3))}function T(t){return void 0===t||isNaN(t)?void 0:.836*Math.pow(t,1.5)}function k(t,e){if(void 0!==t&&!isNaN(t)&&void 0!==e&&!isNaN(e))return 153*g(t)+.9985*e-304.26}function x(t,e,i,n){if(!(void 0===t||isNaN(t)||void 0===e||isNaN(e)||void 0===i||isNaN(i))){if(0==e)return t;var o=.02896;if(void 0===n&&(n=i),i==n)return t*Math.exp(9.807*-o/8.314/i*e);var r=(i-n)/e;return t*Math.exp(9.807*o/8.314/r*Math.log(1-r*e/i))}}function P(t,e,i){if(!(void 0===t||isNaN(t)||void 0===e||isNaN(e)||void 0===i||isNaN(i))){var n=f(e)*i;return 100*(t-n)/287.058/e+100*n/461.495/e}}function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e,i){"listeners"in this&&void 0!==this.listeners||(this.listeners={}),t in this.listeners||(this.listeners[t]={});var n=Math.random().toString(36).substr(2,9);return this.listeners[t][n]={callback:e,thisArg:i},n}function j(t,e){"listeners"in this&&void 0!==this.listeners&&t in this.listeners&&e in this.listeners[t]&&delete this.listeners[t][e]}function I(t,e,i){"once_listeners"in this&&void 0!==this.once_listeners||(this.once_listeners={}),t in this.once_listeners&&"push"in this.once_listeners[t]||(this.once_listeners[t]=[]),this.once_listeners[t].push({callback:e,thisArg:i})}function N(t){return"listeners"in this&&void 0!==this.listeners&&t in this.listeners&&Object.keys(this.listeners[t]).length||"once_listeners"in this&&t in this.once_listeners&&Object.keys(this.once_listeners[t]).length}function B(t){var e=this,i=Array.prototype.slice.call(arguments);if(i.shift(),"listeners"in this&&void 0!==this.listeners&&t in this.listeners&&"object"==E(this.listeners[t])&&Object.keys(this.listeners[t]).forEach((function(n){e.listeners[t][n].callback.apply(void 0===e.listeners[t][n].thisArg?e:e.listeners[t][n].thisArg,i)})),"once_listeners"in this&&void 0!==this.once_listeners&&t in this.once_listeners&&"forEach"in this.once_listeners[t]){var n=this.once_listeners[t];this.once_listeners[t]=[],n.forEach((function(t){t.callback.apply(void 0===t.thisArg?e:t.thisArg,i)}))}}var C=function(t){t.on=R,t.un=j,t.once=I,t.hasListener=N,t.trigger=B};function D(t,e,i,n,o,r,s){try{var a=t[r](s),u=a.value}catch(t){return void i(t)}a.done?e(u):Promise.resolve(u).then(n,o)}function M(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var G=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.url,n=void 0===i?void 0:i,o=e.user,r=void 0===o?"":o,s=e.password,a=void 0===s?"":s,u=e.start,l=void 0===u||u,c=e.defaultTimeout,d=void 0===c?void 0:c,f=e.timeoutOnError,p=void 0===f?void 0:f,h=e.pauseOnHiddenDocument,v=void 0!==h&&h,y=e.responseType,m=void 0===y?"":y;M(this,t),this._url=n,this._user=r,this._password=a,this._isStarted=l,this._defaultTimeout=d,this._timeoutOnError=p,this._pauseOnHiddenDocument=v,this._initPauseOnHiddenDocument(),this._responseType=m,this._timeoutID=void 0,this._loading=!1,this._isStarted&&this.start()}var e,i,n,o,r;return e=t,(i=[{key:"start",value:function(){this.isStarted=!0,this._startRequest()}},{key:"stop",value:function(){this.isStarted=!1,void 0!==this.timeoutID&&clearTimeout(this.timeoutID)}},{key:"_planRequest",value:function(t){var e=this,i=t.delay;void 0===this._timeoutID&&(this._timeoutID=setTimeout((function(){e._startRequest()}),i))}},{key:"_startRequest",value:function(){var t=this;void 0!==this._timeoutID&&clearTimeout(this._timeoutID),this._makeRequest().then((function(e){var i=e.request;if(t.isStarted){var n=t._defaultTimeout,o=i.getResponseHeader("Cache-Control");if(null!==o){var r=/(^|,)max-age=([0-9]+)($|,)/.exec(o);null!==r&&r[2]>0&&(n=Math.round(1e3*r[2]))}t.trigger("success:request",{request:i}),void 0!==n&&t._planRequest({delay:n})}}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.request;t.isStarted&&void 0!==i&&(t.trigger("error:request",{request:i}),void 0!==t._timeoutOnError&&t._planRequest({delay:t._timeoutOnError}))}))}},{key:"_makeRequest",value:(o=regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,i){if(void 0!==e._url)if(e._loading)i();else{e._loading=!0;var n=new XMLHttpRequest;void 0!==e.responseType&&(n.responseType=e.responseType),n.addEventListener("load",(function(){e._loading=!1,200==n.status?t({request:n}):i({request:n})})),n.addEventListener("error",(function(){e._loading=!1,i({request:n})})),n.open("GET",e._url,!0,e._user,e._password),n.send()}else i()})));case 1:case"end":return t.stop()}}),t)})),r=function(){var t=this,e=arguments;return new Promise((function(i,n){var r=o.apply(t,e);function s(t){D(r,i,n,s,a,"next",t)}function a(t){D(r,i,n,s,a,"throw",t)}s(void 0)}))},function(){return r.apply(this,arguments)})},{key:"_initPauseOnHiddenDocument",value:function(){var t=this;this._pauseOnHiddenDocument&&document.addEventListener("visibilitychange",(function(){"hidden"in document&&(document.hidden?t.stop():t.start())}))}},{key:"url",get:function(){return this._url},set:function(t){this._url=t}},{key:"user",get:function(){return this._user},set:function(t){this._user=t}},{key:"password",get:function(){return this._password},set:function(t){this._password=t}},{key:"responseType",get:function(){return this._password},set:function(t){this._responseType=t}}])&&A(e.prototype,i),n&&A(e,n),t}();C(G.prototype);var Y=G;function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var q=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.maxTimeGap,n=void 0===i?void 0:i,o=e.keyboardNavigation,r=void 0===o?{}:o;F(this,t),this.maxTimeGap=n,this.selectedTime=new Date("invalid"),this.times=[],this.enabledTimes=[],this.allEnabledTimes=[],this.timesByKey={},this._keyboardNavigation={},this._initKeyboardNavigation(r)}var e,i,n;return e=t,(i=[{key:"getSelectedTime",value:function(){return this.selectedTime}},{key:"setSelectedTime",value:function(t){return this._setSelectedTime(H(t,this.times)>-1?t:new Date("invalid")),this}},{key:"getTimes",value:function(){return this.times}},{key:"getEnabledTimes",value:function(){return this.enabledTimes}},{key:"getAllEnabledTimes",value:function(){return this.allEnabledTimes}},{key:"setTimesBySetID",value:function(t,e){return this.timesByKey[t]={times:e,enabled:e},this._updateTimes(),this._updateEnabledTimes(),this}},{key:"setEnabledTimesBySetID",value:function(t,e){return t in this.timesByKey&&(this.timesByKey[t].enabled=e,this._updateEnabledTimes()),this}},{key:"getSetIDs",value:function(){return Object.keys(this.timesByKey)}},{key:"deleteSetID",value:function(t){return t in this.timesByKey&&(delete this.timesByKey[t],this._updateTimes(),this._updateEnabledTimes()),this}},{key:"first",value:function(){return this._setSelectedTime(this.getFirstEnabledTime()),this}},{key:"last",value:function(){return this._setSelectedTime(this.getLastEnabledTime()),this}},{key:"next",value:function(){return this._setSelectedTime(this.getNextEnabledTime()),this}},{key:"prev",value:function(){return this._setSelectedTime(this.getPrevEnabledTime()),this}},{key:"nextAllEnabledTime",value:function(){return this._setSelectedTime(this.getNextAllEnabledTime()),this}},{key:"prevAllEnabledTime",value:function(){return this._setSelectedTime(this.getPrevAllEnabledTime()),this}},{key:"add",value:function(t,e){var i=this.getSelectedTime(),n=0;switch(e){case"hours":case"h":n=3600*t*1e3;break;case"minutes":case"m":n=60*t*1e3;break;case"seconds":case"s":n=1e3*t;break;case"milliseconds":case"ms":n=t}switch(0!=n&&(i=new Date(i.valueOf()+n)),e){case"years":case"y":i.setUTCFullYear(i.getUTCFullYear()+t);break;case"months":case"M":i.setUTCMonth(i.getUTCMonth()+t);break;case"days":case"d":i.setUTCDate(i.getUTCDate()+t)}return H(i,this.times)>-1&&this._setSelectedTime(i),this}},{key:"sub",value:function(t,e){var i=this.getSelectedTime(),n=0;switch(e){case"hours":case"h":n=3600*t*1e3;break;case"minutes":case"m":n=60*t*1e3;break;case"seconds":case"s":n=1e3*t;break;case"milliseconds":case"ms":n=t}switch(0!=n&&(i=new Date(i.valueOf()-n)),e){case"years":case"y":i.setUTCFullYear(i.getUTCFullYear()-t);break;case"months":case"M":i.setUTCMonth(i.getUTCMonth()-t);break;case"days":case"d":i.setUTCDate(i.getUTCDate()-t)}return H(i,this.times)>-1&&this._setSelectedTime(i),this}},{key:"getFirstEnabledTime",value:function(){return this.enabledTimes.length>0?this.enabledTimes[0]:new Date("invalid")}},{key:"getLastEnabledTime",value:function(){return this.enabledTimes.length>0?this.enabledTimes[this.enabledTimes.length-1]:new Date("invalid")}},{key:"getNextEnabledTime",value:function(){if(this.enabledTimes.length<1)return new Date("invalid");var t=H(this.getSelectedTime(),this.enabledTimes);if(t>-1)return++t<this.enabledTimes.length?this.enabledTimes[t]:this.enabledTimes[this.enabledTimes.length-1];if(isNaN(this.getSelectedTime()))return this.enabledTimes[0];for(var e=new Date("invalid"),i=0;i<this.enabledTimes.length;i++)if(this.getSelectedTime().valueOf()<this.enabledTimes[i].valueOf()){e=this.enabledTimes[i];break}return e}},{key:"getPrevEnabledTime",value:function(){if(this.enabledTimes.length<1)return new Date("invalid");var t=H(this.getSelectedTime(),this.enabledTimes);if(t>-1)return-1<--t?this.enabledTimes[t]:this.enabledTimes[0];if(isNaN(this.getSelectedTime()))return this.enabledTimes[0];for(var e=new Date("invalid"),i=this.enabledTimes.length-1;i>=0;i--)if(this.getSelectedTime().valueOf()>this.enabledTimes[i].valueOf()){e=this.enabledTimes[i];break}return e}},{key:"getFirstAllEnabledTime",value:function(){return this.allEnabledTimes.length>0?this.allEnabledTimes[0]:new Date("invalid")}},{key:"getLastAllEnabledTime",value:function(){return this.allEnabledTimes.length>0?this.allEnabledTimes[this.allEnabledTimes.length-1]:new Date("invalid")}},{key:"getNextAllEnabledTime",value:function(){if(this.allEnabledTimes.length<1)return new Date("invalid");var t=H(this.getSelectedTime(),this.allEnabledTimes);if(t>-1)return++t<this.allEnabledTimes.length?this.allEnabledTimes[t]:this.allEnabledTimes[this.allEnabledTimes.length-1];if(isNaN(this.getSelectedTime()))return this.allEnabledTimes[0];for(var e=new Date("invalid"),i=0;i<this.allEnabledTimes.length;i++)if(this.getSelectedTime().valueOf()<this.allEnabledTimes[i].valueOf()){e=this.allEnabledTimes[i];break}return e}},{key:"getPrevAllEnabledTime",value:function(){if(this.allEnabledTimes.length<1)return new Date("invalid");var t=H(this.getSelectedTime(),this.allEnabledTimes);if(t>-1)return-1<--t?this.allEnabledTimes[t]:this.allEnabledTimes[0];if(isNaN(this.getSelectedTime()))return this.allEnabledTimes[0];for(var e=new Date("invalid"),i=this.allEnabledTimes.length-1;i>=0;i--)if(this.getSelectedTime().valueOf()>this.allEnabledTimes[i].valueOf()){e=this.allEnabledTimes[i];break}return e}},{key:"isTimeEnabled",value:function(t){return this.enabledTimes.reduce((function(e,i){return i.valueOf()==t.valueOf()||e}),!1)}},{key:"isTimeAllEnabled",value:function(t){return this.allEnabledTimes.reduce((function(e,i){return i.valueOf()==t.valueOf()||e}),!1)}},{key:"isFirstEnabledTime",value:function(){return this.getFirstEnabledTime().valueOf()==this.getSelectedTime().valueOf()}},{key:"isLastEnabledTime",value:function(){return this.getLastEnabledTime().valueOf()==this.getSelectedTime().valueOf()}},{key:"_setSelectedTime",value:function(t){var e=this.selectedTime;return this.selectedTime=t,this.trigger("change:time",e),this.selectedTime}},{key:"_updateTimes",value:function(){this.times=[];var t=[],e={};for(var i in this.timesByKey)this.timesByKey[i].times.forEach((function(i){i.valueOf()in e||(t.push(i),e[i.valueOf()]=i)}));K(t),t.forEach((function(t){if(this.times.length<1)this.times.push(t);else{var e=this.times[this.times.length-1];if(void 0!==this.maxTimeGap&&t.valueOf()-e.valueOf()>1e3*this.maxTimeGap){var i=e;do{i=new Date(i.getTime()+1e3*this.maxTimeGap),this.times.push(i)}while(t.valueOf()-i.valueOf()>1e3*this.maxTimeGap)}this.times.push(t)}}),this),K(this.times),this.trigger("change:times")}},{key:"_updateEnabledTimes",value:function(){this.enabledTimes=[],this.allEnabledTimes=[];var t={},e={};for(var i in this.timesByKey)this.timesByKey[i].enabled.forEach((function(i){i.valueOf()in t||(this.enabledTimes.push(i),t[i.valueOf()]=i),i.valueOf()in e?e[i.valueOf()]++:e[i.valueOf()]=1}),this);for(var n in K(this.enabledTimes),e)e[n]==Object.keys(this.timesByKey).length&&this.allEnabledTimes.push(t[n]);K(this.allEnabledTimes),this.trigger("change:enabledTimes")}},{key:"_initKeyboardNavigation",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.enabled,n=void 0!==i&&i,o=e.first,r=void 0===o?36:o,s=e.last,a=void 0===s?35:s,u=e.prev,l=void 0===u?37:u,c=e.next,d=void 0===c?39:c,f=e.prevAllEnabledTime,p=void 0===f?[37,"ctrl"]:f,h=e.nextAllEnabledTime,v=void 0===h?[38,"ctrl"]:h;this._keyboardNavigation={enabled:n,first:r,last:a,prev:l,next:d,prevAllEnabledTime:p,nextAllEnabledTime:v},document&&this._keyboardNavigation.enabled&&document.addEventListener("keydown",(function(e){Object.keys(t._keyboardNavigation).forEach((function(i){"enabled"!=i&&i in t&&U(e,t._keyboardNavigation[i])&&t[i]()}))}))}}])&&X(e.prototype,i),n&&X(e,n),t}();C(q.prototype);var z=q,H=function(t,e){return e.findIndex((function(e){return e.valueOf()==t.valueOf()}))};function K(t){t.sort((function(t,e){return t.valueOf()-e.valueOf()}))}function U(t,e){if("object"==V(e)&&"forEach"in e||(e=[e]),0==e.length)return!1;var i=[["ctrl","ctrlKey"],["alt","altKey"],["shift","shiftKey"],["meta","metaKey"]].reduce((function(i,n){return i&&(e.indexOf(n[0])>-1?t[n[1]]:!t[n[1]])}),!0);return e.forEach((function(e){switch(e){case"ctrl":case"alt":case"shift":case"meta":break;default:e!=t.keyCode&&(i=!1)}})),i}var Z=i(0),$=i.n(Z);function J(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Q=function(){function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=i.timeline,o=i.restartPause,r=void 0===o?1.8:o,s=i.imagePeriod,a=void 0===s?.2:s,u=i.imageFrequency,l=i.enabledStepsOnly,c=void 0===l||l,d=i.allEnabledStepsOnly,f=void 0!==d&&d;J(this,t),this.options={timeline:n,restartPause:r,imagePeriod:a,imageFrequency:u,enabledStepsOnly:c,allEnabledStepsOnly:f},void 0===this.options.timeline&&(this.options.timeline=new z),void 0!==this.options.imageFrequency&&0!=this.options.imageFrequency&&(this.options.imagePeriod=1/this.options.imageFrequency),this.animationIntervalID=void 0,this.animationTimeoutID=void 0,this.animationStep=0,this.timesHash={},this.times=[];var p=function(){e.times=e.options.timeline[e._getTimelineTimesMethod()](),e.timesHash={},e.times.forEach((function(t,i){return e.timesHash[t.valueOf()]=i}))};this.options.timeline.on(this._getTimelineChangeTimesEvent(),p),p()}var e,i,n;return e=t,(i=[{key:"getImagePeriod",value:function(){return this.options.imagePeriod}},{key:"setImagePeriod",value:function(t){return this.options.imagePeriod=t,this.isStarted()&&this._updateAnimation(),this.trigger("change:imageFrequency"),this}},{key:"getImageFrequency",value:function(){return 1/this.options.imagePeriod}},{key:"setImageFrequency",value:function(t){return 0!=t&&this.setImagePeriod(1/t),this}},{key:"getRestartPause",value:function(){return this.options.restartPause}},{key:"setRestartPause",value:function(t){return this.options.restartPause=Number(t),this.trigger("change:restartPause"),this}},{key:"isStarted",value:function(){return void 0!==this.animationIntervalID||void 0!==this.animationTimeoutID}},{key:"start",value:function(){this.options.timeline.getSelectedTime().valueOf()in this.timesHash&&this._setStep(this.timesHash[this.options.timeline.getSelectedTime().valueOf()]),this.isStarted()||this._updateAnimation(),this.trigger("start:animation")}},{key:"stop",value:function(){this._clearAnimation(),this.trigger("stop:animation")}},{key:"toggle",value:function(){this.isStarted()?this.stop():this.start()}},{key:"_setStep",value:function(t){0<=t&&t<this._getCount()&&(this.animationStep=t)}},{key:"_getTimelineChangeTimesEvent",value:function(){return this.options.enabledStepsOnly||this.options.allEnabledStepsOnly?"change:enabledTimes":"change:times"}},{key:"_getTimelineTimesMethod",value:function(){return this.options.allEnabledStepsOnly?"getAllEnabledTimes":this.options.enabledStepsOnly?"getEnabledTimes":"getTimes"}},{key:"_getCount",value:function(){return this.options.timeline[this._getTimelineTimesMethod()]().length}},{key:"_updateAnimation",value:function(){this._clearAnimation(),this.animationStep<this._getCount()-1?this._initAnimation():this._initRestartPause()}},{key:"_initAnimation",value:function(){var t=this;void 0===this.animationIntervalID&&(this.animationIntervalID=window.setInterval((function(){t.animationStep++,t.animationStep<t.times.length&&t.options.timeline.setSelectedTime(t.times[t.animationStep]),t.animationStep>=t._getCount()-1&&(t.trigger("end:animation"),t._clearAnimation(),t._initRestartPause())}),1e3*this.options.imagePeriod))}},{key:"_initRestartPause",value:function(){var t=this;void 0===this.animationTimeoutID&&(this.animationTimeoutID=window.setTimeout((function(){t.animationStep=0,t.trigger("restart:animation"),t.animationStep<t.times.length&&t.options.timeline.setSelectedTime(t.times[t.animationStep]),t._clearAnimation(),t._initAnimation()}),1e3*(this.options.imagePeriod+this.options.restartPause)))}},{key:"_clearAnimation",value:function(){void 0!==this.animationIntervalID&&(window.clearInterval(this.animationIntervalID),this.animationIntervalID=void 0),void 0!==this.animationTimeoutID&&(window.clearTimeout(this.animationTimeoutID),this.animationTimeoutID=void 0)}}])&&W(e.prototype,i),n&&W(e,n),t}();C(Q.prototype);var tt=Q;function et(t,e){var i=e.animation,n=e.suffix,o=void 0===n?"fps":n,r=$()("<input>").addClass("form-control").attr("type","number").attr("min",1).attr("step",1),s=$()("<div>").addClass("input-group").append(r).append($()("<div>").addClass("input-group-append").append($()("<span>").addClass("input-group-text").text(o)));r.on("change",(function(){return i.setImageFrequency(r.val())}));var a=function(){return r.val(i.getImageFrequency())};return i.on("change:imageFrequency",a),a(),t.append(s),s}function it(t,e){var i=e.animation,n=e.frequencies;n=n||[1];var o=$()("<input>").addClass("custom-range").attr("type","range").attr("min",0).attr("max",n.length-1);o.on("change input",(function(){var t=o.val();t<n.length&&i.setImageFrequency(n[t])}));var r=function(){var t=n.indexOf(i.getImageFrequency());t>-1&&o.val(t)};return i.on("change:imageFrequency",r),r(),t.append(o),o}function nt(t,e){var i=e.animation,n=e.suffix,o=void 0===n?"s":n,r=$()("<input>").addClass("form-control").attr("type","number").attr("min",0).attr("step",.1),s=$()("<div>").addClass("input-group").append(r).append($()("<div>").addClass("input-group-append").append($()("<span>").addClass("input-group-text").text(o)));r.on("change",(function(){return i.setRestartPause(r.val())}));var a=function(){return r.val(i.getRestartPause())};return i.on("change:restartPause",a),a(),t.append(s),s}function ot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var rt=function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ot(this,t);var n=i.animation,o=void 0===n?void 0:n,r=i.node,s=void 0===r?void 0:r,a=i.startedContent,u=void 0===a?void 0:a,l=i.startedClass,c=void 0===l?void 0:l,d=i.stoppedContent,f=void 0===d?void 0:d,p=i.stoppedClass,h=void 0===p?void 0:p,v=i.classButton,y=void 0===v?void 0:v,m=i.classDropdownToggle,g=void 0===m?void 0:m,b=i.menu,w=void 0===b||b,O=i.menuImageFrequency,_=void 0===O||O,S=i.imageFrequencyCaption,T=void 0===S?"Frequency":S,k=i.menuFrequencies,x=void 0===k?void 0:k,P=i.menuRestartPause,E=void 0===P||P,R=i.restartPauseCaption,j=void 0===R?"Restart pause":R;"startedContent"in i||(u="⏸"),"stoppedContent"in i||(f="▶"),this.options={animation:o,node:s,startedContent:u,startedClass:c,stoppedContent:f,stoppedClass:h,classButton:y,classDropdownToggle:g,menu:w,menuImageFrequency:_,imageFrequencyCaption:T,menuFrequencies:x,menuRestartPause:E,restartPauseCaption:j},this.options.node=$()(this.options.node);var I=this.options.node;this.options.node.is("button")||(I=$()("<button>").addClass("btn"),this.options.node.append(I)),I.addClass(this.options.classButton);var N=function(){I.removeClass(e.options.stoppedClass),I.addClass(e.options.startedClass),I.empty(),"string"==typeof e.options.startedContent||e.options.startedContent instanceof String?I.text(e.options.startedContent):I.append(e.options.startedContent)},B=function(){I.removeClass(e.options.startedClass),I.addClass(e.options.stoppedClass),I.empty(),"string"==typeof e.options.stoppedContent||e.options.stoppedContent instanceof String?I.text(e.options.stoppedContent):I.append(e.options.stoppedContent)};if(this.options.animation.on("start:animation",N),this.options.animation.on("stop:animation",B),I.click((function(){return e.options.animation.toggle()})),this.options.animation.isStarted()?N():B(),!this.options.node.is("button")&&this.options.menu){this.options.node.addClass("btn-group");var C=$()("<button>").attr("type","button").addClass("btn dropdown-toggle dropdown-toggle-split").addClass(this.options.classDropdownToggle).attr("data-toggle","dropdown").attr("aria-haspopup",!0).attr("aria-expanded",!1);C.append($()("<span>").addClass("sr-only").text("Toggle Dropdown")),this.options.node.append(C);var L=$()("<div>").addClass("dropdown-menu pl-4 pr-4 pt-2 pb-2 text-muted");if(this.options.node.append(L),this.options.menuImageFrequency){var D=$()("<label>").text(this.options.imageFrequencyCaption),M=$()("<div>").addClass("form-group").append(D);L.append(M),et(D,{animation:this.options.animation}),void 0!==this.options.menuFrequencies&&it(M,{animation:this.options.animation,frequencies:this.options.menuFrequencies})}if(this.options.menuRestartPause){var A=$()("<label>").text(this.options.restartPauseCaption),G=$()("<div>").addClass("form-group").append(A);nt(A,{animation:this.options.animation}),L.append(G)}}};function st(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function at(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ut=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.timeline,n=void 0===i?void 0:i,o=e.node,r=void 0===o?void 0:o,s=e.animation,a=void 0===s?void 0:s,u=e.enabledStepsOnly,l=void 0===u||u,c=e.allEnabledStepsOnly,d=void 0!==c&&c,f=e.textInvalid,p=void 0===f?"-":f,h=e.getTimeText,v=void 0===h?void 0:h,y=e.outputTimezone,m=void 0===y?void 0:y;st(this,t),this.options={timeline:n,node:r,animation:a,enabledStepsOnly:l,allEnabledStepsOnly:d,textInvalid:p,getTimeText:v,outputTimezone:m},void 0===this.options.timeline&&(this.options.timeline=new z),this.listeners=[],this.inputListener=void 0}var e,i,n;return e=t,(i=[{key:"setNode",value:function(t){if(void 0!==this.options.node&&this.emptyNode(),void 0===t)this.detachEventListeners(),this.options.node=t;else{this.options.node=t;var e=this.listeners.length>0;e||(this.attachEventListener(this.options.timeline,"change:time",(function(){this.onChangeTime()}),this),this.attachEventListener(this.options.timeline,"change:times",(function(){this.onChangeTimes()}),this),this.attachEventListener(this.options.timeline,"change:enabledTimes",(function(){this.onChangeTimes()}),this)),this.onInitNode(e),this.onChangeTimes(),this.onChangeTime()}return void 0===this.inputListener&&(this.inputListener=this.on("input",(function(){void 0!==this.options.animation&&this.options.animation.stop()}),this)),this}},{key:"getOutputTimezone",value:function(){return this.options.outputTimezone}},{key:"setOutputTimezone",value:function(t){var e=this.options.outputTimezone!=t;return this.options.outputTimezone=t,e&&void 0!==this.options.node&&(this.onChangeTimes(),this.onChangeTime()),this}},{key:"onChangeTime",value:function(){}},{key:"onChangeTimes",value:function(){}},{key:"emptyNode",value:function(){}},{key:"onInitNode",value:function(){}},{key:"getTimelineTimes",value:function(){var t=this.options.allEnabledStepsOnly?"getAllEnabledTimes":this.options.enabledStepsOnly?"getEnabledTimes":"getTimes";return this.options.timeline[t]()}},{key:"timeToText",value:function(t,e){return isNaN(t)?this.options.textInvalid:void 0!==this.options.getTimeText?this.options.getTimeText.call(this,t,e):t.toISOString()}},{key:"attachEventListener",value:function(t,e,i,n){this.listeners.push([t,e]),t.on(e,i,n)}},{key:"detachEventListeners",value:function(){this.listeners.forEach((function(t){"un"in t[0]?t[0].un(t[1]):"off"in t[0]&&t[0].off(t[1])})),this.listeners=[]}}])&&at(e.prototype,i),n&&at(e,n),t}();C(ut.prototype);var lt=ut;function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e){if(null==t)return{};var i,n,o=function(t,e){if(null==t)return{};var i,n,o={},r=Object.keys(t);for(n=0;n<r.length;n++)i=r[n],e.indexOf(i)>=0||(o[i]=t[i]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)i=r[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(o[i]=t[i])}return o}function ft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ht(t,e){return(ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=mt(t);if(e){var o=mt(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return yt(this,i)}}function yt(t,e){return!e||"object"!==ct(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ht(t,e)}(r,t);var e,i,n,o=vt(r);function r(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.format,n=void 0===i?void 0:i,s=dt(e,["format"]);return ft(this,r),(t=o.call(this,s)).options.format=n,t.setNode(t.options.node),t}return e=r,(i=[{key:"onChangeTime",value:function(){this.options.node.text(this.timeToText(this.options.timeline.getSelectedTime(),this.options.format))}},{key:"emptyNode",value:function(){this.options.node.text("")}}])&&pt(e.prototype,i),n&&pt(e,n),r}(lt);function bt(t){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ot(t,e){return(Ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Tt(t);if(e){var o=Tt(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return St(this,i)}}function St(t,e){return!e||"object"!==bt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tt(t){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ot(t,e)}(r,t);var e,i,n,o=_t(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,t)).times=[],e.timesIndexes={},e.setNode(e.options.node),e}return e=r,(i=[{key:"onChangeTime",value:function(){var t=this.options.timeline.getSelectedTime();t.valueOf()in this.timesIndexes?this.options.node.val(this.timesIndexes[t.valueOf()]+1):this.options.node.val(1)}},{key:"onChangeTimes",value:function(){this.times=this.getTimelineTimes(),this.timesIndexes={},this.times.forEach((function(t,e){this.timesIndexes[t.valueOf()]=e}),this),this.options.node.prop("max",this.times.length)}},{key:"onInitNode",value:function(t){if(this.options.node.prop("min",1),this.options.node.prop("step",1),!t){var e=this;this.attachEventListener(this.options.node,"change input",(function(){var t=+$()(this).val();0<t&&t<=e.times.length&&e.options.timeline.setSelectedTime(e.times[t-1]),e.trigger("input")}))}}}])&&wt(e.prototype,i),n&&wt(e,n),r}(lt);function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pt(t,e){if(null==t)return{};var i,n,o=function(t,e){if(null==t)return{};var i,n,o={},r=Object.keys(t);for(n=0;n<r.length;n++)i=r[n],e.indexOf(i)>=0||(o[i]=t[i]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)i=r[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(o[i]=t[i])}return o}function Et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function jt(t,e){return(jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function It(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Bt(t);if(e){var o=Bt(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Nt(this,i)}}function Nt(t,e){return!e||"object"!==xt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bt(t){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jt(t,e)}(r,t);var e,i,n,o=It(r);function r(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.format,n=void 0===i?"HH":i,s=e.grouping,a=void 0===s?"daily":s,u=e.groupingFormat,l=void 0===u?"ddd, DD. MMM":u,c=e.classMain,d=void 0===c?"btn-toolbar":c,f=e.classButtonGroup,p=void 0===f?"btn-group":f,h=e.classButtonGroupMargin,v=void 0===h?"mr-2":h,y=e.classLabel,m=void 0===y?void 0:y,g=e.classLabelSpan,b=void 0===g?"d-block w-100":g,w=e.classButton,O=void 0===w?"btn":w,_=e.classButtonActive,S=void 0===_?"active":_,T=e.classButtonNotEnabled,k=void 0===T?"btn-light":T,x=e.classButtonEnabled,P=void 0===x?"btn-secondary":x,E=e.classButtonAllEnabled,R=void 0===E?"btn-primary":E,j=Pt(e,["format","grouping","groupingFormat","classMain","classButtonGroup","classButtonGroupMargin","classLabel","classLabelSpan","classButton","classButtonActive","classButtonNotEnabled","classButtonEnabled","classButtonAllEnabled"]);return Et(this,r),(t=o.call(this,j)).options.format=n,t.options.grouping=a,t.options.groupingFormat=l,t.options.classMain=d,t.options.classButtonGroup=p,t.options.classButtonGroupMargin=v,t.options.classLabel=m,t.options.classLabelSpan=b,t.options.classButton=O,t.options.classButtonActive=S,t.options.classButtonNotEnabled=k,t.options.classButtonEnabled=P,t.options.classButtonAllEnabled=R,t.toolbarNode=void 0,t.setNode(t.options.node),t}return e=r,(i=[{key:"onChangeTime",value:function(){if(void 0!==this.toolbarNode){var t=this.options.timeline.getSelectedTime(),e=this;this.toolbarNode.find("button").each((function(){var i=new Date(+$()(this).data("time"));$()(this).removeClass(e.options.classButtonActive),t.valueOf()==i.valueOf()&&$()(this).addClass(e.options.classButtonActive)}))}}},{key:"onChangeTimes",value:function(){void 0===this.toolbarNode&&(this.toolbarNode=$()("<div>")),this.toolbarNode.empty();var t="daily"==this.options.grouping?"YYYY-MM-DD":"hourly"==this.options.grouping?"YYYY-MM-DD HH":this.options.grouping,e=void 0;this.getTimelineTimes().forEach((function(i){if(void 0===e||e.data("date")!=this.timeToText(i,t)){var n=$()("<div>").addClass(this.options.classButtonGroup).addClass(this.options.classButtonGroupMargin).attr("role","group").attr("aria-label",this.timeToText(i,t));if(void 0===this.options.groupingFormat)e=n;else{var o=$()("<span>").addClass(this.options.classLabelSpan).text(this.timeToText(i,this.options.groupingFormat));e=$()("<label>").addClass(this.options.classLabel).append(o),n.attr("aria-label",o.text()),e.append(n)}e.data("date",this.timeToText(i,t)),this.toolbarNode.append(e)}var r=$()("<button>").addClass(this.options.classButton).attr("type","button").text(this.timeToText(i,this.options.format)).data("time",i.valueOf());this.options.timeline.isTimeAllEnabled(i)?r.addClass(this.options.classButtonAllEnabled):this.options.timeline.isTimeEnabled(i)?r.addClass(this.options.classButtonEnabled):r.addClass(this.options.classButtonNotEnabled);var s=this;r.click((function(){s.options.timeline.setSelectedTime(new Date(+$()(this).data("time"))),s.trigger("input")})),e.hasClass(this.options.classButtonGroup)?e.append(r):e.children("div").append(r)}),this),this.toolbarNode.find("div."+this.options.classButtonGroup).last().removeClass(this.options.classButtonGroupMargin)}},{key:"emptyNode",value:function(){this.toolbarNode=void 0,this.options.node.empty()}},{key:"onInitNode",value:function(){this.toolbarNode=$()("<div>").addClass(this.options.classMain).attr("role","toolbar").attr("aria-label","Timeline toolbar"),this.options.node.append(this.toolbarNode)}}])&&Rt(e.prototype,i),n&&Rt(e,n),r}(lt);function Lt(t){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dt(t,e){if(null==t)return{};var i,n,o=function(t,e){if(null==t)return{};var i,n,o={},r=Object.keys(t);for(n=0;n<r.length;n++)i=r[n],e.indexOf(i)>=0||(o[i]=t[i]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)i=r[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(o[i]=t[i])}return o}function Mt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function At(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Gt(t,e,i){return(Gt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function Yt(t,e){return(Yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Xt(t);if(e){var o=Xt(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Ft(this,i)}}function Ft(t,e){return!e||"object"!==Lt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xt(t){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yt(t,e)}(r,t);var e,i,n,o=Vt(r);function r(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.format,n=void 0===i?"HH:mm":i,s=e.buttonFormat,a=void 0===s?"DD. MMMM YYYY HH:mm":s,u=e.grouping,l=void 0===u?"daily":u,c=e.groupingDivider,d=void 0===c||c,f=e.groupingFormat,p=void 0===f?"ddd, DD. MMMM YYYY":f,h=e.classMain,v=void 0===h?"dropdown":h,y=e.classDropdownMenu,m=void 0===y?"dropdown-menu":y,g=e.classDropdownItem,b=void 0===g?"dropdown-item":g,w=e.classItemActive,O=void 0===w?"active":w,_=e.classItemNotEnabled,S=void 0===_?"disabled":_,T=e.classItemEnabled,k=void 0===T?void 0:T,x=e.classItemAllEnabled,P=void 0===x?void 0:x,E=e.classDropdownHeader,R=void 0===E?"dropdown-header":E,j=e.classDropdownDivider,I=void 0===j?"dropdown-divider":j,N=e.classDropdownButton,B=void 0===N?"btn dropdown-toggle":N,C=e.classButtonNotEnabled,L=void 0===C?void 0:C,D=e.classButtonEnabled,M=void 0===D?void 0:D,A=e.classButtonAllEnabled,G=void 0===A?void 0:A,Y=Dt(e,["format","buttonFormat","grouping","groupingDivider","groupingFormat","classMain","classDropdownMenu","classDropdownItem","classItemActive","classItemNotEnabled","classItemEnabled","classItemAllEnabled","classDropdownHeader","classDropdownDivider","classDropdownButton","classButtonNotEnabled","classButtonEnabled","classButtonAllEnabled"]);return Mt(this,r),(t=o.call(this,Y)).options.format=n,t.options.buttonFormat=a,t.options.grouping=l,t.options.groupingDivider=d,t.options.groupingFormat=p,t.options.classMain=v,t.options.classDropdownMenu=m,t.options.classDropdownItem=b,t.options.classItemActive=O,t.options.classItemNotEnabled=S,t.options.classItemEnabled=k,t.options.classItemAllEnabled=P,t.options.classDropdownHeader=R,t.options.classDropdownDivider=I,t.options.classDropdownButton=B,t.options.classButtonNotEnabled=L,t.options.classButtonEnabled=M,t.options.classButtonAllEnabled=G,t.visualisationButtonText=new gt({timeline:t.options.timeline,format:t.options.buttonFormat,textInvalid:t.options.textInvalid,outputTimezone:t.options.outputTimezone,getTimeText:t.options.getTimeText}),t.dropdownNode=void 0,t.setNode(t.options.node),t}return e=r,(i=[{key:"setOutputTimezone",value:function(t){return Gt(Xt(r.prototype),"setOutputTimezone",this).call(this,t),this.visualisationButtonText.setOutputTimezone(t),this}},{key:"onChangeTime",value:function(){if(void 0!==this.dropdownNode){var t=this.options.timeline.getSelectedTime();this.options.node.children("button").removeClass(this.options.classButtonActive).removeClass(this.options.classButtonNotEnabled).removeClass(this.options.classButtonEnabled).removeClass(this.options.classButtonAllEnabled),this.options.timeline.isTimeAllEnabled(t)?this.options.node.children("button").addClass(this.options.classButtonAllEnabled):this.options.timeline.isTimeEnabled(t)?this.options.node.children("button").addClass(this.options.classButtonEnabled):this.options.node.children("button").addClass(this.options.classButtonNotEnabled);var e=this;this.dropdownNode.children("button."+this.options.classDropdownItem).each((function(){var i=new Date(+$()(this).data("time"));$()(this).removeClass(e.options.classItemActive).removeClass(e.options.classItemNotEnabled).removeClass(e.options.classItemEnabled).removeClass(e.options.classItemAllEnabled),t.valueOf()==i.valueOf()?$()(this).addClass(e.options.classItemActive):e.options.timeline.isTimeAllEnabled(i)?$()(this).addClass(e.options.classItemAllEnabled):e.options.timeline.isTimeEnabled(i)?$()(this).addClass(e.options.classItemEnabled):$()(this).addClass(e.options.classItemNotEnabled)}))}}},{key:"onChangeTimes",value:function(){void 0===this.dropdownNode&&(this.dropdownNode=$()("<div>")),this.dropdownNode.empty();var t="daily"==this.options.grouping?"YYYY-MM-DD":"hourly"==this.options.grouping?"YYYY-MM-DD HH":this.options.grouping,e=void 0;this.getTimelineTimes().forEach((function(i){void 0!==e&&e==this.timeToText(i,t)||(void 0!==e&&this.options.groupingDivider&&this.dropdownNode.append($()("<div>").addClass(this.options.classDropdownDivider)),void 0!==this.options.groupingFormat&&this.dropdownNode.append($()("<h6>").addClass(this.options.classDropdownHeader).text(this.timeToText(i,this.options.groupingFormat))),e=this.timeToText(i,t));var n=$()("<button>").addClass(this.options.classDropdownItem).attr("type","button").text(this.timeToText(i,this.options.format)).data("time",i.valueOf()),o=this;n.click((function(){o.options.timeline.setSelectedTime(new Date(+$()(this).data("time"))),o.trigger("input")})),this.dropdownNode.append(n)}),this)}},{key:"emptyNode",value:function(){void 0!==this.visualisationButtonText&&this.visualisationButtonText.setNode(void 0),this.dropdownNode=void 0,this.options.node.empty()}},{key:"onInitNode",value:function(){for(var t="dropdownMenuButton",e=0;null!=document.getElementById(t);)t="dropdownMenuButton"+ ++e;var i=$()("<button>").addClass(this.options.classDropdownButton).attr("type","button").attr("id",t).attr("data-toggle","dropdown").attr("aria-haspopup",!0).attr("aria-expanded",!1);this.visualisationButtonText.setNode(i),this.dropdownNode=$()("<div>").addClass(this.options.classDropdownMenu).attr("aria-labelledby",t),this.options.node.addClass(this.options.classMain).append(i).append(this.dropdownNode)}}])&&At(e.prototype,i),n&&At(e,n),r}(lt);function zt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Ht=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=$.a.extend(!0,{map:void 0,layerGroup:void 0},e)}var e,i,n;return e=t,(i=[{key:"getMap",value:function(){return this.options.map}},{key:"getViewCenter",value:function(){}},{key:"setViewCenter",value:function(){return this}},{key:"getViewZoom",value:function(){}},{key:"setViewZoom",value:function(){return this}},{key:"makeLayerGroup",value:function(){}},{key:"getExtendedEventByTypeCollection",value:function(t){return t.synviewType=void 0,t.layer=void 0,t.feature=void 0,t.color=void 0,t}},{key:"findLayerInType",value:function(){return-1}}])&&zt(e.prototype,i),n&&zt(e,n),t}();C(Ht.prototype);var Kt=Ht;function Ut(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Zt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.itemIds=[],this.items={}}var e,i,n;return e=t,(i=[{key:"getCount",value:function(){return this.itemIds.length}},{key:"getItems",value:function(){return this.itemIds.map((function(t){return this.items[t]}),this)}},{key:"getItemIds",value:function(){return this.itemIds}},{key:"getItemById",value:function(t){return t in this.items?this.items[t]:void 0}},{key:"containsId",value:function(t){return-1!==this.getIndexById(t)}},{key:"getIndexById",value:function(t){var e=-1;return this.itemIds.forEach((function(i,n){i==t&&(e=n)})),e}},{key:"append",value:function(t){var e=t.getId();return this.containsId(e)?(this.trigger("replace:item",t,this.getItemById(e)),this.items[e]=t):(this.itemIds.push(e),this.items[e]=t,this.trigger("add:item",t)),this}},{key:"remove",value:function(t){var e=this.getItemById(t);if(void 0!==e){var i=this.getIndexById(t);delete this.items[t],this.itemIds.splice(i,1),this.trigger("remove:item",e)}return this}}])&&Ut(e.prototype,i),n&&Ut(e,n),t}();C(Zt.prototype);var $t=Zt,Jt=i(1),Wt=i.n(Jt),Qt=i(4),te=i.n(Qt),ee=i(6);function ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ne(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var oe=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.url,n=void 0===i?void 0:i,o=e.datetime,r=void 0===o?void 0:o,s=e.mimetype,a=void 0===s?void 0:s,u=e.reloadTime,l=void 0===u?void 0:u,c=e.className,d=void 0===c?void 0:c,f=e.imageSmoothingEnabled,p=void 0===f?void 0:f,h=e.ol,v=void 0===h?{}:h;ie(this,t),this.options={url:n,datetime:r,mimetype:a,reloadTime:l,className:d,ol:v},this._normalizeOLOptions(this.options.ol),this.layer=void 0,this.layerGroup=void 0,this.reloadTimerId=void 0,this.visible=!1,this.zIndex=void 0,this.opacity=1,this._imageSmoothing=p}var e,i,n;return e=t,(i=[{key:"getId",value:function(){return this.getUrl()}},{key:"getUrl",value:function(){return this.options.url}},{key:"getDatetime",value:function(){return this.options.datetime}},{key:"getMIMEType",value:function(){return void 0===this.options.mimetype?"application/octet-stream":this.options.mimetype}},{key:"getReloadTime",value:function(){return this.options.reloadTime}},{key:"setReloadTime",value:function(t){return this.options.reloadTime=t,this._reload(),this}},{key:"getVisible",value:function(){return this.visible}},{key:"setVisible",value:function(t){return this.visible=t,void 0!==this.layer&&("setVisible"in this.layer?this.layer.setVisible(t):this.visible?this.layer.addTo(this.layerGroup):this.layerGroup.removeLayer(this.layer)),this}},{key:"getZIndex",value:function(){return this.zIndex}},{key:"setZIndex",value:function(t){return this.zIndex=t,void 0!==this.layer&&this.layer.setZIndex(t),this}},{key:"getOpacity",value:function(){return this.opacity}},{key:"setOpacity",value:function(t){return this.opacity=t,void 0!==this.layer&&this.layer.setOpacity(t),this}},{key:"getLayerGroup",value:function(){return this.layerGroup}},{key:"setLayerGroup",value:function(t){if(void 0!==this.layerGroup&&void 0!==this.layer&&("remove"in this.layerGroup.getLayers()?this.layerGroup.getLayers().remove(this.layer):this.layerGroup.removeLayer(this.layer)),void 0===t&&(this.layer=void 0),this.layerGroup=t,void 0!==this.layerGroup)if("addLayer"in this.layerGroup){var e=this.getLLLayer();this.getVisible()&&this.layerGroup.addLayer(e)}else this.layerGroup.getLayers().push(this.getOLLayer());return this.setReloadTime(this.getReloadTime()),this}},{key:"getOLLayer",value:function(){return void 0!==this.layer||(this.layer=this._makeOLLayer()),this.layer}},{key:"makeOLLayer",value:function(){return new te.a({className:this.className})}},{key:"_makeOLLayer",value:function(){var t=this,e=this.makeOLLayer();if(e.setVisible(this.visible),e.setZIndex(this.zIndex),e.setOpacity(this.opacity),"events"in this.options.ol&&void 0!==this.options.ol.events&&["prerender","postrender"].forEach((function(i){i in t.options.ol.events&&void 0!==t.options.ol.events[i]&&e.on(i,(function(n){t.options.ol.events[i].call(t,n,e)}))})),!this._imageSmoothing){var i=e.getSource();null!==i&&"contextOptions_"in i&&(i.contextOptions_={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1})}return e}},{key:"getLLLayer",value:function(){return void 0!==this.layer||(this.layer=this._makeLLLayer()),this.layer}},{key:"makeLLLayer",value:function(){return L.Layer()}},{key:"preload",value:function(){}},{key:"_makeLLLayer",value:function(){return this.makeLLLayer()}},{key:"_reload",value:function(){if(void 0!==this.reloadTimerId&&(clearTimeout(this.reloadTimerId),this.reloadTimerId=void 0),void 0!==this.options.reloadTime&&void 0!==this.layerGroup){var t=function(){if(this.reloadTimerId=void 0,void 0!==this.layerGroup){var e=this._makeOLLayer();if("getUrl"in e.getSource()){var i=this.layerGroup,n=e.getSource().on("change",function(){"ready"!=e.getSource().getState()&&"error"!=e.getSource().getState()||(Object(ee.unByKey)(n),"ready"==e.getSource().getState()&&void 0!==this.layerGroup?(e.setVisible(this.layer.getVisible()),e.setOpacity(this.layer.getOpacity()),e.setZIndex(this.layer.getZIndex()),this.layerGroup.getLayers().remove(this.layer),this.layer=e):void 0!==this.layerGroup?this.layerGroup.getLayers().remove(e):i.getLayers().remove(e),void 0===this.reloadTimerId&&void 0!==this.options.reloadTime&&void 0!==this.layerGroup&&(this.reloadTimerId=setTimeout(t,1e3*this.options.reloadTime)))}.bind(this));this.layerGroup.getLayers().push(e),e.setVisible(!0)}else this.layerGroup.getLayers().push(e),e.setVisible(!0),setTimeout(function(){this.layer=e,void 0===this.reloadTimerId&&void 0!==this.options.reloadTime&&(this.reloadTimerId=setTimeout(t,1e3*this.options.reloadTime))}.bind(this),1e3)}}.bind(this);return this.reloadTimerId=setTimeout(t,1e3*this.options.reloadTime),this}}},{key:"_normalizeOLOptions",value:function(t){var e=t.source,i=void 0===e?{}:e,n=t.events,o=void 0===n?void 0:n,r=t.style,s=void 0===r?void 0:r;this.options.ol={source:i,events:o,style:s}}},{key:"className",get:function(){return this.options.className},set:function(t){this.options.className=t}},{key:"imageSmoothingEnabled",get:function(){return this._imageSmoothing},set:function(t){this._imageSmoothing=t}}])&&ne(e.prototype,i),n&&ne(e,n),t}();C(oe.prototype);var re=oe;function se(t){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ae(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ue(t,e,i){return(ue="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fe(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function le(t,e){return(le=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ce(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=fe(t);if(e){var o=fe(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return de(this,i)}}function de(t,e){return!e||"object"!==se(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fe(t){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&le(t,e)}(r,t);var e,i,n,o=ce(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this)).times=[],t}return e=r,(i=[{key:"getResources",value:function(){return this.times.map((function(t){return this.items[t.valueOf()]}),this)}},{key:"getTimes",value:function(){return this.times}},{key:"getItemById",value:function(t){var e=ue(fe(r.prototype),"getItemById",this).call(this,t);return void 0===e?new re:e}},{key:"getResourceByTime",value:function(t){return this.getItemById(isNaN(t)?"":t.valueOf())}},{key:"containsTime",value:function(t){return this.getIndexById(isNaN(t)?"":t.valueOf())>-1}},{key:"getIndexByTime",value:function(t){var e=-1;return isNaN(t)||this.times.forEach((function(i,n){i.valueOf()==t.valueOf()&&(e=n)})),e}},{key:"getNewestResource",value:function(){return this.times.length<1?new re:this.getResourceByTime(this.times[this.times.length-1])}},{key:"append",value:function(t){return this._append(t),this._sortTimes(),this}},{key:"remove",value:function(t){return this._remove(isNaN(t)?"":t.valueOf()),this._sortTimes(),this}},{key:"setResources",value:function(t){return t.forEach((function(t){this._append(t)}),this),this._filterTimesByResources(t),this._sortTimes(),this}},{key:"_append",value:function(t){var e=t.getDatetime(),i=void 0===e?"":e.valueOf();this.containsId(i)?(this.trigger("replace:item",t,this.getItemById(i)),this.items[i]=t):(this.itemIds.push(i),this.items[i]=t,void 0===e||isNaN(e)||this.times.push(e),this.trigger("add:item",t))}},{key:"_remove",value:function(t){var e=this.getIndexById(t);if(e>-1){var i=this.items[t];if(delete this.items[t],this.itemIds.splice(e,1),void 0!==t&&""!==t&&!isNaN(t)){var n=this.times.findIndex((function(e){return e.valueOf()==t}));n>-1&&this.times.splice(n,1)}this.trigger("remove:item",i)}}},{key:"_filterTimesByResources",value:function(t){var e=!1;this.times=this.times.filter((function(i){var n=!1;return t.findIndex((function(t){var n=!1,o=t.getDatetime();return void 0!==o&&i.valueOf()==o.valueOf()?n=!0:void 0===o&&(e=!0),n}),this)<0&&(this.remove(i.valueOf()),n=!0),!n}),this),e&&this.remove("")}},{key:"_sortTimes",value:function(){this.times.sort((function(t,e){return t.valueOf()-e.valueOf()}))}}])&&ae(e.prototype,i),n&&ae(e,n),r}($t);function he(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ve(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ye=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.id,n=void 0===i?void 0:i,o=e.visible,r=void 0===o||o,s=e.zIndex,a=void 0===s?void 0:s,u=e.displayMethod,l=void 0===u?"floor":u,c=e.displayMaxResourceAge,d=void 0===c?10800:c,f=e.displayFadeStart,p=void 0===f?900:f,h=e.displayFadeStartOpacity,v=void 0===h?.95:h,y=e.resources,m=void 0===y?void 0:y,g=e.className,b=void 0===g?void 0:g,w=e.imageSmoothingEnabled,O=void 0===w?void 0:w,_=e.tooltip,S=void 0===_?void 0:_,T=e.preload,k=void 0===T?{}:T;he(this,t),this.options={id:n,visible:r,zIndex:a,displayMethod:l,displayMaxResourceAge:d,displayFadeStart:p,displayFadeStartOpacity:v,resources:m,className:b,imageSmoothingEnabled:O,tooltip:S},this.layerGroup=void 0,this.collection=new pe,this.displayedResourceTime=new Date("invalid"),this.collection.on("add:item",(function(t){t.className=this.className,this._addOLLayer(t),this._preload.enabled&&t.preload()}),this),this.collection.on("remove:item",(function(t){this._removeOLLayer(t)}),this),this.collection.on("replace:item",(function(t,e){t!==e&&(t.className=this.className,this._replaceOLLayer(t,e),this._preload.enabled&&t.preload())}),this),this._preload=k,void 0!==this.options.resources&&this.collection.setResources(this.options.resources),delete this.options.resources}var e,i,n;return e=t,(i=[{key:"getId",value:function(){return this.options.id}},{key:"setId",value:function(t){return this.options.id=t,this}},{key:"getVisible",value:function(){return this.options.visible}},{key:"setVisible",value:function(t){return(this.options.visible?!t:t)&&(this.options.visible=!!t,void 0!==this.layerGroup&&this.layerGroup.setVisible(this.options.visible),this.getResourceCollection().getItems().forEach((function(t){isNaN(t.getDatetime())&&t.setVisible(this.options.visible),t.setLayerGroup(this.options.visible?this.layerGroup:void 0)}),this),this.trigger("change:visible")),this}},{key:"getZIndex",value:function(){return this.options.zIndex}},{key:"setZIndex",value:function(t){return this.options.zIndex=t,void 0!==this.layerGroup&&this.layerGroup.setZIndex(t),this.getResourceCollection().getItems().forEach((function(e){e.setZIndex(t)})),this}},{key:"getLayerGroup",value:function(){return void 0===this.layerGroup?new Wt.a:this.layerGroup}},{key:"setLayerGroup",value:function(t){return this.layerGroup=t,void 0!==this.layerGroup&&("setVisible"in this.layerGroup&&this.layerGroup.setVisible(this.options.visible),this.layerGroup.setZIndex(this.options.zIndex)),this.getResourceCollection().getItems().forEach((function(e){e.setLayerGroup(this.options.visible?t:void 0)}),this),this}},{key:"getResourceCollection",value:function(){return this.collection}},{key:"appendResource",value:function(t){return this.collection.append(t),this.setDisplayTime(this.displayedResourceTime),this.trigger("change:resources"),this}},{key:"removeResource",value:function(t){return this._hideVisibleResource(),this.collection.remove(t.getDatetime()),this.setDisplayTime(this.displayedResourceTime),this.trigger("change:resources"),this}},{key:"setResources",value:function(t){return this._hideVisibleResource(),this.collection.setResources(t),this.setDisplayTime(this.displayedResourceTime),this.trigger("change:resources"),this}},{key:"getDisplayedResource",value:function(){return this.getVisible()&&void 0!==this.layerGroup?isNaN(this.displayedResourceTime)&&this.collection.getTimes().length>0?new re:this.collection.getResourceByTime(this.displayedResourceTime):new re}},{key:"setDisplayTime",value:function(t){if(!this.getVisible())return this;var e=this._getResourceTimeByDisplayTime(t);if((void 0===e||void 0!==e&&!isNaN(this.displayedResourceTime)&&this.displayedResourceTime.valueOf()!=e.valueOf())&&this._hideVisibleResource(),void 0!==e){this.displayedResourceTime=e;var i=this.getResourceCollection().getItemById(e.valueOf());if(i.getId()){i.setVisible(!0);var n=1;Math.abs(t.valueOf()-e.valueOf())>1e3*this.options.displayMaxResourceAge?n=0:Math.abs(t.valueOf()-e.valueOf())>1e3*this.options.displayFadeStart&&(n=this.options.displayFadeStartOpacity*(Math.abs(t.valueOf()-e.valueOf())-1e3*this.options.displayMaxResourceAge)/(1e3*(this.options.displayFadeStart-this.options.displayMaxResourceAge))),i.setOpacity(n)}}else this.displayedResourceTime=new Date("invalid");return this}},{key:"getTooltip",value:function(){return this.options.tooltip}},{key:"setTooltip",value:function(t){return this.options.tooltip=t,this}},{key:"setResourcesOLStyle",value:function(){var t=arguments;return this.getResourceCollection().getItems().forEach((function(e){"setOLStyle"in e&&e.setOLStyle.apply(e,t)})),this}},{key:"_hideVisibleResource",value:function(){isNaN(this.displayedResourceTime)||this.getResourceCollection().getItemById(this.displayedResourceTime.valueOf()).setVisible(!1)}},{key:"_addOLLayer",value:function(t){isNaN(t.getDatetime())&&t.setVisible(this.getVisible()),void 0!==this.options.imageSmoothingEnabled&&void 0===t.imageSmoothingEnabled&&(t.imageSmoothingEnabled=this.options.imageSmoothingEnabled),t.setLayerGroup(this.getLayerGroup()),t.setZIndex(this.options.zIndex)}},{key:"_removeOLLayer",value:function(t){t.setLayerGroup(void 0)}},{key:"_replaceOLLayer",value:function(t,e){this._removeOLLayer(e),this._addOLLayer(t)}},{key:"_getResourceTimeByDisplayTime",value:function(t){if(!isNaN(t)){var e=void 0;return this.collection.getTimes().forEach((function(i){switch(this.options.displayMethod){case"exact":t.valueOf()==i.valueOf()&&(e=i);break;case"nearest":(void 0===e||Math.abs(t.valueOf()-i.valueOf())<Math.abs(t.valueOf()-e.valueOf()))&&(e=i);break;case"floor":default:(void 0===e||i.valueOf()<=t.valueOf()&&t.valueOf()-i.valueOf()<t.valueOf()-e.valueOf())&&(e=i)}}),this),e}}},{key:"className",get:function(){return this.options.className},set:function(t){this.options.className=t}}])&&ve(e.prototype,i),n&&ve(e,n),t}();C(ye.prototype);var me=ye;function ge(t){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function be(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function we(t,e,i){return(we="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Te(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function Oe(t,e){return(Oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Te(t);if(e){var o=Te(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Se(this,i)}}function Se(t,e){return!e||"object"!==ge(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Te(t){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ke=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oe(t,e)}(r,t);var e,i,n,o=_e(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this)).options=$.a.extend(!0,{exclusiveVisibility:!1,syncVisibility:!1},t),e}return e=r,(i=[{key:"getItemById",value:function(t){return void 0===we(Te(r.prototype),"getItemById",this).call(this,t)?new me:this.items[t]}},{key:"append",value:function(t){var e=this;return this.options.exclusiveVisibility&&t.getVisible()&&this.isVisible()?t.setVisible(!1):e.options.syncVisibility&&(t.getVisible()?this.isVisible()||this.getItems().forEach((function(t){t.setVisible(!0)}),this):this.isVisible()&&t.setVisible(!0)),t.on("change:visible",(function(){e.options.exclusiveVisibility?this.getVisible()&&e.getItems().forEach((function(t){t.getId()!=this.getId()&&t.setVisible(!1)}),this):e.options.syncVisibility&&e.getItems().forEach((function(t){t.getId()!=this.getId()&&t.setVisible(this.getVisible())}),this)})),we(Te(r.prototype),"append",this).call(this,t)}},{key:"getVisibleTypes",value:function(){return this.getItems().filter((function(t){return t.getVisible()}))}},{key:"isVisible",value:function(){return this.getVisibleTypes().length>0}},{key:"setExclusiveVisibility",value:function(t){if(this.options.exclusiveVisibility!=t&&t){var e=!1;this.getItems().forEach((function(t){e?t.setVisible(!1):e=t.getVisible()}),this)}return this.options.exclusiveVisibility=t,this}},{key:"setSyncVisibility",value:function(t){return this.options.syncVisibility!=t&&t&&this.isVisible()&&this.getItems().forEach((function(t){t.setVisible(!0)}),this),this.options.syncVisibility=t,this}}])&&be(e.prototype,i),n&&be(e,n),r}($t);var xe=function t(e){var i=this,n=e.map,o=e.typeCollection,r=e.tooltip;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tooltipFeature=void 0,this.tooltipPixelColor=void 0,this.map=n,this.typeCollection=o,this.tooltip=r,Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.tooltip),"tooltipNode")&&void 0===this.tooltip.tooltipNode&&(this.tooltip.tooltipNode=$()("<div>").css("position","absolute").prependTo(this.map.getMap().getTargetElement())),this.tooltip.on("hide:tooltip",(function(){i.tooltipFeature=void 0,i.tooltipPixelColor=void 0})),this.map.on("move:pointer",(function(t){if(!t.dragging)if((t=i.map.getExtendedEventByTypeCollection(t,i.typeCollection)).feature||t.color){if(t.feature===i.tooltipFeature&&(void 0===t.color&&void 0===i.tooltipPixelColor||void 0!==t.color&&void 0!==i.tooltipPixelColor&&t.color.join(",")===i.tooltipPixelColor.join(",")))return void i.tooltip.show({posX:t.pixel[0],posY:t.pixel[1]});i.tooltipFeature=void 0,i.tooltipPixelColor=void 0;var e=t.synviewType.getTooltip().call(void 0,t);void 0!==e?(i.tooltipFeature=t.feature,i.tooltipPixelColor=t.color,i.tooltip.content=e,i.tooltip.hide().show({posX:t.pixel[0],posY:t.pixel[1]})):i.tooltip.hide()}else i.tooltip.hide()}))};function Pe(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Ee=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=$.a.extend(!0,{map:void 0,timeline:void 0,tooltip:void 0},e),void 0===this.options.map&&(this.options.map=new Kt),void 0===this.options.timeline&&(this.options.timeline=new z),this.typeCollection=new ke,this.tooltip=void 0,this.options.timeline.on("change:time",(function(){this.getTypeCollection().getItems().map((function(t){t.setDisplayTime(this.options.timeline.getSelectedTime())}),this)}),this);var i=this.options.timeline,n=function(){var t=i.isLastEnabledTime();this.getVisible()?i.setTimesBySetID(this.getId(),this.getResourceCollection().getTimes()):i.setTimesBySetID(this.getId(),[]),t?i.last():isNaN(i.getSelectedTime())&&i.first()},o=function(t){t.setLayerGroup(this.options.map.makeLayerGroup()),n.call(t),t.setDisplayTime(this.getTimeline().getSelectedTime()),t.on("change:resources",n),t.on("change:visible",n),void 0!==t.getTooltip()&&void 0===this.tooltip&&(this.tooltip=new xe({map:this.options.map,typeCollection:this.typeCollection,tooltip:this.options.tooltip}))},r=function(t){this.getTimeline().deleteSetID(t.getId())};this.typeCollection.on("add:item",o,this),this.typeCollection.on("remove:item",r,this),this.typeCollection.on("replace:item",(function(t,e){o.call(this,t),r.call(this,e)}),this)}var e,i,n;return e=t,(i=[{key:"getTimeline",value:function(){return this.options.timeline}},{key:"getMap",value:function(){return this.options.map}},{key:"getTypeCollection",value:function(){return this.typeCollection}},{key:"appendType",value:function(t){if(void 0===t.getId()){var e,i=0;do{e="synview-type-"+i++}while(this.getTypeCollection().containsId(e));t.setId(e)}return this.getTypeCollection().append(t),this}},{key:"getTooltip",value:function(){return this.options.tooltip}}])&&Pe(e.prototype,i),n&&Pe(e,n),t}(),Re=i(2);function je(t){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ie(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return Ne(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ne(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function Ne(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Be(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ce(t,e,i){return(Ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ge(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function Le(t,e){return(Le=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function De(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Ge(t);if(e){var o=Ge(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Me(this,i)}}function Me(t,e){return!e||"object"!==je(e)&&"function"!=typeof e?Ae(t):e}function Ae(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ge(t){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ye=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Le(t,e)}(r,t);var e,i,n,o=De(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),void 0===(e=o.call(this,t)).options.layerGroup&&(e.options.layerGroup=new Wt.a,e.options.map.addLayer(e.options.layerGroup)),e.options.map.getView().on("change:center",function(){this.trigger("change:view",this)}.bind(Ae(e))),e.options.map.getView().on("change:resolution",function(){this.trigger("change:view",this)}.bind(Ae(e))),e.options.map.on("pointermove",function(t){this.trigger("move:pointer",t)}.bind(Ae(e))),e.options.map.on("click",function(t){this.trigger("click:pointer",t)}.bind(Ae(e))),e.options.map.on("singleclick",function(t){this.trigger("singleclick:pointer",t)}.bind(Ae(e))),e.options.map.on("dblclick",function(t){this.trigger("dblclick:pointer",t)}.bind(Ae(e))),e.options.map.on("pointerdrag",function(t){this.trigger("drag:pointer",t)}.bind(Ae(e))),e}return e=r,(i=[{key:"getViewCenter",value:function(){return Object(Re.transform)(this.options.map.getView().getCenter(),this.options.map.getView().getProjection(),"EPSG:4326")}},{key:"setViewCenter",value:function(t){var e=!0;return t=t.map((function(t){return isNaN(t)?void(e=!1):1*t})),e&&this.options.map.getView().setCenter(Object(Re.fromLonLat)(t)),this}},{key:"getViewZoom",value:function(){return this.options.map.getView().getZoom()}},{key:"setViewZoom",value:function(t){return isNaN(t)||this.options.map.getView().setZoom(1*t),this}},{key:"makeLayerGroup",value:function(){var t=new Wt.a;return this.options.layerGroup.getLayers().push(t),t}},{key:"getExtendedEventByTypeCollection",value:function(t,e){t=Ce(Ge(r.prototype),"getExtendedEventByTypeCollection",this).call(this,t,e);var i=new Map;e.getVisibleTypes().filter((function(t){return void 0!==t.getTooltip()})).map((function(t){return i.set(t,[])}));var n,o=new Set,s=new Set,a=Ie(i.keys());try{var u=function(){var t=n.value;t.getLayerGroup().getLayers().getArray().filter((function(t){return t.getVisible()})).forEach((function(e){i.get(t).push(e),o.add(e),s.add(e.getClassName())}))};for(a.s();!(n=a.n()).done;)u()}catch(t){a.e(t)}finally{a.f()}return this.options.map.forEachFeatureAtPixel(t.pixel,(function(e,n){var o,r=Ie(i.keys());try{var s=function(){var r=o.value;if(i.get(r).forEach((function(i){void 0===t.synviewType&&i===n&&(t.feature=e,t.layer=n,t.synviewType=r)})),void 0!==t.synviewType)return"break"};for(r.s();!(o=r.n()).done&&"break"!==s(););}catch(t){r.e(t)}finally{r.f()}return void 0!==t.synviewType}),{hitTolerance:5,layerFilter:function(t){return o.has(t)}}),void 0===t.feature&&this.options.map.forEachLayerAtPixel(t.pixel,(function(e,n){if(null==n||n.length<1)return!1;var o,r=Ie(i.keys());try{var s=function(){var r=o.value;if(i.get(r).forEach((function(i){void 0===t.synviewType&&i.getClassName()==e.getClassName()&&(t.color=n,t.layer=e,t.synviewType=r)})),void 0!==t.synviewType)return"break"};for(r.s();!(o=r.n()).done&&"break"!==s(););}catch(t){r.e(t)}finally{r.f()}return void 0!==t.synviewType}),{hitTolerance:5,layerFilter:function(t){return s.has(t.getClassName())}}),t}},{key:"findLayerInType",value:function(t,e){return e.getLayerGroup().getLayers().getArray().findIndex((function(e){return e==t}))>-1}}])&&Be(e.prototype,i),n&&Be(e,n),r}(Kt);function Ve(t){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fe(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Xe(t,e){return(Xe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=He(t);if(e){var o=He(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return ze(this,i)}}function ze(t,e){return!e||"object"!==Ve(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function He(t){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ke=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xe(t,e)}(r,t);var e,i,n,o=qe(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),void 0===(e=o.call(this,t)).options.layerGroup&&(e.options.layerGroup=L.layerGroup().addTo(e.options.map)),e}return e=r,(i=[{key:"makeLayerGroup",value:function(){return L.layerGroup().addTo(this.options.layerGroup)}}])&&Fe(e.prototype,i),n&&Fe(e,n),r}(Kt),Ue=i(5),Ze=i.n(Ue),$e=i(7),Je=i.n($e);function We(t){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ti(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ei(t,e){return(ei=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ii(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=oi(t);if(e){var o=oi(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return ni(this,i)}}function ni(t,e){return!e||"object"!==We(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oi(t){return(oi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ri=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ei(t,e)}(r,t);var e,i,n,o=ii(r);function r(){return Qe(this,r),o.apply(this,arguments)}return e=r,(i=[{key:"getId",value:function(){var t=this.getDatetime();return isNaN(t)?"":t.toISOString()}},{key:"makeOLLayer",value:function(){var t={source:this.options.ol.source,events:this.options.ol.events,style:this.options.ol.style};if(this.options.ol,!("refresh"in t.source)){var e=t.source;void 0!==this.options.url&&"format"in e&&void 0!==e.format&&(e.url=this.options.url),"projection"in e&&void 0!==e.projection||(e.projection="EPSG:4326"),t.source=new Je.a(e)}return"function"==typeof t.style&&(t.style=t.style.bind(this)),this.className&&(t.className=this.className),new te.a(t)}},{key:"setOLStyle",value:function(t){return void 0===this.layer&&this.getOLLayer(),void 0!==this.layer&&"setStyle"in this.layer?(0==arguments.length?this.layer.setStyle(this.layer.getStyle()):this.layer.setStyle(t),this):this}}])&&ti(e.prototype,i),n&&ti(e,n),r}(re);function si(t){return(si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ai(t,e){return(ai=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ui(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=ci(t);if(e){var o=ci(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return li(this,i)}}function li(t,e){return!e||"object"!==si(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ci(t){return(ci=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var di=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ai(t,e)}(i,t);var e=ui(i);function i(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=e.call(this,t)).options.ol.source.url=n.options.url,n.options.ol.source.format=new Ze.a,n}return i}(ri),fi=i(8),pi=i.n(fi),hi=i(9),vi=i.n(hi);function yi(t){return(yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gi(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function bi(t,e){return(bi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=_i(t);if(e){var o=_i(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Oi(this,i)}}function Oi(t,e){return!e||"object"!==yi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _i(t){return(_i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Si=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bi(t,e)}(r,t);var e,i,n,o=wi(r);function r(){return mi(this,r),o.apply(this,arguments)}return e=r,(i=[{key:"makeOLLayer",value:function(){var t={source:this.options.ol.source,events:this.options.ol.events,style:this.options.ol.style};if(!("refresh"in t.source)){var e=t.source;!("tileUrlFunction"in e)&&void 0!==this.options.url&&"format"in e&&void 0!==e.format&&(e.url=this.options.url),"projection"in e&&void 0!==e.projection||(e.projection="EPSG:4326"),t.source=new pi.a(e)}return"function"==typeof t.style&&(t.style=t.style.bind(this)),this.className&&(t.className=this.className),new vi.a(t)}}])&&gi(e.prototype,i),n&&gi(e,n),r}(ri);function Ti(t){return(Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ki(t,e){return(ki=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Ei(t);if(e){var o=Ei(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Pi(this,i)}}function Pi(t,e){return!e||"object"!==Ti(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ei(t){return(Ei=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ri=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ki(t,e)}(i,t);var e=xi(i);function i(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=e.call(this,t)).options.ol.source.format=new Ze.a,n}return i}(Si),ji=i(10),Ii=i.n(ji),Ni=i(11),Bi=i.n(Ni);function Ci(t){return(Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Li(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Di(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Mi(t,e){return(Mi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ai(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Yi(t);if(e){var o=Yi(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Gi(this,i)}}function Gi(t,e){return!e||"object"!==Ci(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yi(t){return(Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Vi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mi(t,e)}(r,t);var e,i,n,o=Ai(r);function r(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.url,n=void 0===i?void 0:i,s=e.datetime,a=void 0===s?void 0:s,u=e.mimetype,l=void 0===u?void 0:u,c=e.reloadTime,d=void 0===c?void 0:c,f=e.className,p=void 0===f?void 0:f,h=e.extent,v=e.ol,y=void 0===v?{}:v;return Li(this,r),(t=o.call(this,{url:n,datetime:a,mimetype:l,reloadTime:d,className:p,ol:y})).options.extent=h,t}return e=r,(i=[{key:"makeOLLayer",value:function(){var t=this.options.ol.source;return t.url=this.options.url,t.imageExtent=Object(Re.transformExtent)(this.options.extent,"EPSG:4326","EPSG:3857"),new Bi.a({source:new Ii.a(t),className:this.className})}},{key:"makeLLLayer",value:function(){return L.imageOverlay(this.options.url,[[this.options.extent[1],this.options.extent[0]],[this.options.extent[3],this.options.extent[2]]])}},{key:"preload",value:function(){this.getOLLayer().getSource().image_.load()}}])&&Di(e.prototype,i),n&&Di(e,n),r}(re),Fi=i(12),Xi=i.n(Fi),qi=i(13),zi=i.n(qi);function Hi(t){return(Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ki(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ui(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Zi(t,e){return(Zi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Wi(t);if(e){var o=Wi(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Ji(this,i)}}function Ji(t,e){return!e||"object"!==Hi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wi(t){return(Wi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zi(t,e)}(r,t);var e,i,n,o=$i(r);function r(){return Ki(this,r),o.apply(this,arguments)}return e=r,(i=[{key:"makeOLLayer",value:function(){var t=this.options.ol.source;return t.url=this.options.url,new zi.a({source:new Xi.a(t)})}}])&&Ui(e.prototype,i),n&&Ui(e,n),r}(re);function tn(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var en=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._isShown=!1,this._content=void 0}var e,i,n;return e=t,(i=[{key:"show",value:function(){var t=!this.isShown;return this._isShown=!0,t&&this.trigger("show:tooltip"),this}},{key:"hide",value:function(){var t=this.isShown;return this._isShown=!1,t&&this.trigger("hide:tooltip"),this}},{key:"update",value:function(){return this}},{key:"onContentChange",value:function(){}},{key:"isShown",get:function(){return this._isShown}},{key:"content",get:function(){return this._content},set:function(t){var e=this._content;this._content=t,e!==this._content&&this.onContentChange()}}])&&tn(e.prototype,i),n&&tn(e,n),t}();C(en.prototype);var nn=en;i(16);function on(t){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sn(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function an(t,e,i){return(an="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=dn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function un(t,e){return(un=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ln(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=dn(t);if(e){var o=dn(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return cn(this,i)}}function cn(t,e){return!e||"object"!==on(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dn(t){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&un(t,e)}(r,t);var e,i,n,o=ln(r);function r(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.tooltipNode,n=void 0===i?void 0:i,s=e.bootstrapOptions,a=void 0===s?void 0:s,u=e.closeOnMouseMove,l=void 0===u||u,c=e.closeOnMouseEnter,d=void 0!==c&&c;return rn(this,r),(t=o.call(this)).bootstrapOptions=a||{},t._initBootstrapOptions(a),t.closeOnMouseMove=l,t.closeOnMouseEnter=d,t._tooltipNode=void 0,t.tooltipNode=n,t}return e=r,(i=[{key:"show",value:function(t){var e=t.posX,i=t.posY;return this.tooltipNode.css({left:"".concat(e,"px"),top:"".concat(i,"px")}).tooltip(this.isShown?"update":"show"),an(dn(r.prototype),"show",this).call(this)}},{key:"hide",value:function(){return this.isShown&&this.tooltipNode.tooltip("hide").attr("data-original-title",void 0),an(dn(r.prototype),"hide",this).call(this)}},{key:"update",value:function(){return this.tooltipNode.tooltip("update"),an(dn(r.prototype),"update",this).call(this)}},{key:"onContentChange",value:function(){this.tooltipNode.attr("data-original-title",pn(this.content)?this.content:"-"),this._updateNonStringContent(),this.update()}},{key:"_initBootstrapOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.trigger,i=void 0===e?"manual":e;this.bootstrapOptions.trigger=i}},{key:"_initTooltipNode",value:function(){var t=this;this.tooltipNode.tooltip(this.bootstrapOptions).on("inserted.bs.tooltip",(function(){var e=t._updateNonStringContent();e.length&&(t.closeOnMouseMove&&e.children(".tooltip-inner").mousemove((function(){return t.hide()})),t.closeOnMouseEnter&&e.children(".tooltip-inner").mouseenter((function(){return t.hide()})))}))}},{key:"_updateNonStringContent",value:function(){var t=$()(document.getElementById(this.tooltipNode.attr("aria-describedby")));if(t.length)return void 0===this.content||pn(this.content)||t.children(".tooltip-inner").empty().append(this.content),t}},{key:"tooltipNode",get:function(){return this._tooltipNode},set:function(t){void 0!==t?(this._tooltipNode=$()(t),this._initTooltipNode()):this._tooltipNode=t}}])&&sn(e.prototype,i),n&&sn(e,n),r}(nn),pn=function(t){return"[object String]"==Object.prototype.toString.call(t)};function hn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vn(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var yn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.id;hn(this,t),this._id=i}var e,i,n;return e=t,(i=[{key:"setId",value:function(){}},{key:"id",get:function(){return this._id},set:function(t){this._id=t,this.setId(t)}}])&&vn(e.prototype,i),n&&vn(e,n),t}();function mn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gn(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var bn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.fireReplace,n=void 0===i||i,o=e.fireAddRemoveOnReplace,r=void 0!==o&&o,s=e.appendOnReplace,a=void 0===s||s,u=e.sortFunction,l=e.emptyObjectMaker;mn(this,t),this.options={fireReplace:n,fireAddRemoveOnReplace:r,appendOnReplace:a,sortFunction:u,emptyObjectMaker:l},this._itemIds=[],this._items={}}var e,i,n;return e=t,(i=[{key:Symbol.iterator,value:function(){var t=this,e=0;return{next:function(){return e<t._itemIds.length?{value:t._items[t._itemIds[e++]]}:{done:!0}}}}},{key:"getItemById",value:function(t){return t in this._items?this._items[t]:void 0===this.options.emptyObjectMaker?new yn:this.options.emptyObjectMaker.call(this)}},{key:"contains",value:function(t){var e=this.containsId(t.id);return e&&(e=t===this.getItemById(t.id)),e}},{key:"containsId",value:function(t){return t in this._items}},{key:"append",value:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.forEach((function(e){var i=e.id;if(t.containsId(i)){var n=t.getItemById(i);t.options.appendOnReplace&&(t._itemIds.splice(t._itemIds.indexOf(i),1),t._itemIds.push(i)),n!==e&&(t._items[i]=e,t.options.fireReplace&&t.trigger("replace:item",e,n),t.options.fireAddRemoveOnReplace&&(t.trigger("remove:item",n),t.trigger("add:item",e)))}else t._itemIds.push(i),t._items[i]=e,t.trigger("add:item",e)})),this._sort(),this}},{key:"remove",value:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.forEach((function(e){var i=t._itemIds.indexOf(e.id);if(i>-1){var n=t._items[e.id];delete t._items[e.id],t._itemIds.splice(i,1),t.trigger("remove:item",n)}})),this}},{key:"removeById",value:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.forEach((function(e){var i=t._itemIds.indexOf(e);if(i>-1){var n=t._items[e];delete t._items[e],t._itemIds.splice(i,1),t.trigger("remove:item",n)}})),this}},{key:"_sort",value:function(){var t=this;void 0!==this.options.sortFunction&&this._itemIds.sort((function(e,i){return t.options.sortFunction(t._items[e],t._items[i])}))}},{key:"count",get:function(){return this._itemIds.length}},{key:"items",get:function(){var t=this;return this._itemIds.map((function(e){return t._items[e]}))}},{key:"itemIds",get:function(){return this._itemIds}},{key:"sortFunction",get:function(){return this.options.sortFunction},set:function(t){this.options.sortFunction=t,this._sort()}}])&&gn(e.prototype,i),n&&gn(e,n),t}();C(bn.prototype);var wn=bn;function On(t){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sn(t,e){return(Sn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=xn(t);if(e){var o=xn(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return kn(this,i)}}function kn(t,e){return!e||"object"!==On(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xn(t){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sn(t,e)}(i,t);var e=Tn(i);function i(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.id,r=void 0===o?void 0:o,s=n.pres,a=void 0===s?void 0:s,u=n.tmpc,l=void 0===u?void 0:u,c=n.dwpc,d=void 0===c?void 0:c,f=n.ptrace,p=void 0===f?void 0:f,h=n.ttrace,v=void 0===h?void 0:h,y=n.blayer,m=void 0===y?void 0:y,g=n.tlayer,b=void 0===g?void 0:g,w=n.lclpres,O=void 0===w?void 0:w,_=n.lclhght,S=void 0===_?void 0:_,T=n.lfcpres,k=void 0===T?void 0:T,x=n.lfchght,P=void 0===x?void 0:x,E=n.elpres,R=void 0===E?void 0:E,j=n.elhght,I=void 0===j?void 0:j,N=n.mplpres,B=void 0===N?void 0:N,C=n.mplhght,L=void 0===C?void 0:C,D=n.bplus,M=void 0===D?void 0:D,A=n.bminus,G=void 0===A?void 0:A,Y=n.bfzl,V=void 0===Y?void 0:Y,F=n.b3km,X=void 0===F?void 0:F,q=n.b6km,z=void 0===q?void 0:q,H=n.p0c,K=void 0===H?void 0:H,U=n.pm10c,Z=void 0===U?void 0:U,$=n.pm20c,J=void 0===$?void 0:$,W=n.pm30c,Q=void 0===W?void 0:W,tt=n.hght0c,et=void 0===tt?void 0:tt,it=n.hghtm10c,nt=void 0===it?void 0:it,ot=n.hghtm20c,rt=void 0===ot?void 0:ot,st=n.hghtm30c,at=void 0===st?void 0:st,ut=n.wm10c,lt=void 0===ut?void 0:ut,ct=n.wm20c,dt=void 0===ct?void 0:ct,ft=n.wm30c,pt=void 0===ft?void 0:ft,ht=n.li5,vt=void 0===ht?void 0:ht,yt=n.li3,mt=void 0===yt?void 0:yt,gt=n.brnshear,bt=void 0===gt?void 0:gt,wt=n.brnu,Ot=void 0===wt?void 0:wt,_t=n.brnv,St=void 0===_t?void 0:_t,Tt=n.limax,kt=void 0===Tt?void 0:Tt,xt=n.limaxpres,Pt=void 0===xt?void 0:xt,Et=n.cap,Rt=void 0===Et?void 0:Et,jt=n.cappres,It=void 0===jt?void 0:jt,Nt=n.bmin,Bt=void 0===Nt?void 0:Nt,Ct=n.bminpres,Lt=void 0===Ct?void 0:Ct;return _n(this,i),(t=e.call(this,{id:r})).pres=a,t.tmpc=l,t.dwpc=d,t.ptrace=p,t.ttrace=v,t.blayer=m,t.tlayer=b,t.lclpres=O,t.lclhght=S,t.lfcpres=k,t.lfchght=P,t.elpres=R,t.elhght=I,t.mplpres=B,t.mplhght=L,t.bplus=M,t.bminus=G,t.bfzl=V,t.b3km=X,t.b6km=z,t.p0c=K,t.pm10c=Z,t.pm20c=J,t.pm30c=Q,t.hght0c=et,t.hghtm10c=nt,t.hghtm20c=rt,t.hghtm30c=at,t.wm10c=lt,t.wm20c=dt,t.wm30c=pt,t.li5=vt,t.li3=mt,t.brnshear=bt,t.brnu=Ot,t.brnv=St,t.limax=kt,t.limaxpres=Pt,t.cap=Rt,t.cappres=It,t.bmin=Bt,t.bminpres=Lt,t}return i}(yn);function En(t){return function(t){if(Array.isArray(t))return Rn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Rn(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Rn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rn(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function jn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function In(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Nn=function(){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=i.calcMissing,o=void 0!==n&&n,r=i.parcels,s=void 0===r?[]:r;jn(this,t),this.options={calcMissing:o},this.levels={},this._parcelCollection=new wn({fireAddRemoveOnReplace:!0,fireReplace:!1,emptyObjectMaker:function(){return new Pn}}),(e=this._parcelCollection).append.apply(e,En(s))}var e,i,n;return e=t,(i=[{key:"addLevels",value:function(t,e){return t.forEach((function(t){this.addLevel(t,e)}),this),this}},{key:"addLevel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.calcMissing;return i=i||this.options.calcMissing,"pres"in t&&void 0!==t.pres&&(i&&(t=this.calculateMissingData(t)),this.levels[t.pres]=t),this}},{key:"calculateMissingData",value:function(t){var e={pres:t.pres,hght:t.hght,u:t.u,v:t.v,wdir:t.wdir,wspd:t.wspd,tmpk:t.tmpk,dwpk:t.dwpk,relh:t.relh,mixr:t.mixr,theta:t.theta,thetae:t.thetae,wetbulb:t.wetbulb,vtmp:t.vtmp};return void 0===e.hght&&(e.hght=o(e.pres)),void 0===e.u&&void 0===e.v&&void 0!==e.wdir&&void 0!==e.wspd?(e.u=e.wspd*Math.sin(e.wdir/180*Math.PI),e.v=e.wspd*Math.cos(e.wdir/180*Math.PI)):void 0!==e.u&&void 0!==e.v&&void 0===e.wdir&&void 0===e.wspd&&(e.wspd=Math.sqrt(Math.pow(e.u,2)+Math.pow(e.v,2)),e.wdir=Math.arctan(e.u/e.v)/Math.PI*180),void 0!==e.tmpk&&void 0!==e.dwpk?(void 0===e.theta&&(e.theta=s(e.tmpk,e.pres)),void 0===e.thetae&&(e.thetae=d(e.tmpk,e.dwpk,e.pres))):void 0!==e.mixr&&void 0===e.dwpk&&(e.dwpk=l(e.mixr,e.pres)),e}},{key:"removeLevel",value:function(t){return t in this.levels&&delete this.levels[t],this}},{key:"getData",value:function(t){return t in this.levels?this.levels[t]:{pres:void 0,hght:void 0,tmpk:void 0,dwpk:void 0,wdir:void 0,wspd:void 0,u:void 0,v:void 0,relh:void 0,mixr:void 0,theta:void 0,thetae:void 0,wetbulb:void 0,vtmp:void 0}}},{key:"getLevels",value:function(){return Object.keys(this.levels).map((function(t){return+t})).sort((function(t,e){return t-e}))}},{key:"getNearestLevel",value:function(t){if(!(Object.keys(this.levels).length<1))return Object.keys(this.levels).sort((function(e,i){return Math.abs(e-t)-Math.abs(i-t)})).shift()}},{key:"parcelCollection",get:function(){return this._parcelCollection}}])&&In(e.prototype,i),n&&In(e,n),t}(),Bn=i(3);function Cn(t,e){if(null==t)return{};var i,n,o=function(t,e){if(null==t)return{};var i,n,o={},r=Object.keys(t);for(n=0;n<r.length;n++)i=r[n],e.indexOf(i)>=0||(o[i]=t[i]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)i=r[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(o[i]=t[i])}return o}function Ln(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.color,i=void 0===e?void 0:e,n=t.width,o=void 0===n?void 0:n,r=Cn(t,["color","width"]),s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.color=An(i,s.color,"black"),r.width=An(o,s.width,1),Object.keys(s).forEach((function(t){"color"!=t&&"width"!=t&&void 0===r[t]&&(r[t]=s[t])})),r}function Dn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.size,i=void 0===e?void 0:e,n=t.color,o=void 0===n?void 0:n,r=t.anchor,s=void 0===r?void 0:r,a=Cn(t,["size","color","anchor"]),u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.size=An(i,u.size,12),a.color=An(o,u.color,"black"),void 0!==(s=An(s,u.anchor))&&(a.anchor=s),Object.keys(u).forEach((function(t){"color"!=t&&"size"!=t&&"anchor"!=t&&void 0===a[t]&&(a[t]=u[t])})),a}function Mn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.visible,i=void 0===e?void 0:e,n=t.style,o=void 0===n?{}:n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{visible:An(i,r.visible,!0),style:Ln(o,r.style)}}function An(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.reduce((function(t,e){return void 0!==t?t:e}))}function Gn(t){var e=t.node,i=t.text,n=t.x,o=t.y,r=t.horizontalMargin,s=void 0===r?0:r,a=t.verticalMargin,u=void 0===a?0:a,l=t.font,c=void 0===l?{}:l,d=t.fill,f=void 0===d?{}:d,p=e.group();"color"in f||(f.color="white");var h=p.rect().fill(f),v=p.text(i).attr({x:n,y:o}).font(c);return"bottom"==c["alignment-baseline"]&&v.dy(-v.bbox().height-5),v.dx(s*("end"==v.attr("text-anchor")?-1:1)).dy(u*("bottom"==c["alignment-baseline"]?-1:1)),h.attr({x:v.bbox().x,y:v.bbox().y,width:v.bbox().width,height:v.bbox().height}),p}function Yn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.node,i=t.x,n=void 0===i?0:i,o=t.y,r=void 0===o?0:o,s=t.wspd,a=void 0===s?0:s,u=t.wdir,l=void 0===u?270:u,c=t.length,d=void 0===c?50:c,f=t.strokeStyle,p=void 0===f?void 0:f,h=t.fillTriangle,v=void 0===h||h,y=t.triangleRatio,m=void 0===y?.2:y,g=t.barbDistanceRatio,b=void 0===g?.1:g,w=t.barbHeightRatio,_=void 0===w?3/8:w,S=t.circleOnLowWindspeed,T=void 0===S||S,k=t.circleRadiusRatio,x=void 0===k?.1:k;p=Ln(p);var P=O(a),E=e.group(),R=P>=5?E.group():void 0,j=d*m,I=d*b,N=d*_,B=r-d,C=P;if(P<5&&T)E.circle(d*x).x(n).y(r).stroke(p).fill("none");else{for(E.line(n,B,n,r).stroke(p);C>=50;)R.polyline([[n,B],[n+N,B+j/2],[n,B+j]]).fill(v?p:"none").stroke(p),B+=j+((C-=50)>=50?I/2:I);for(;C>=10;)R.line(n,B,n+N,B-j/2).stroke(p),B+=I,C-=10;P<10&&(B+=I),C>=5&&R.line(n,B,n+N/2,B-j/4).stroke(p);var L=B-(r-d);L>.9*d&&R.scale(1,.9*d/L,n,r-d),0!=l&&E.rotate(l,n,r)}}function Vn(t){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xn(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function qn(t,e){return(qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Kn(t);if(e){var o=Kn(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Hn(this,i)}}function Hn(t,e){return!e||"object"!==Vn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kn(t){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Un=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qn(t,e)}(r,t);var e,i,n,o=zn(r);function r(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.visible,s=void 0===n||n,a=i.diagram,u=void 0===a?{}:a,l=i.windprofile,c=void 0===l?{}:l,d=i.hodograph,f=void 0===d?{}:d,p=i.parcels,h=void 0===p?{}:p;return Fn(this,r),(e=o.call(this))._sounding=t,e._visible=s,e._options={diagram:$n(u),windprofile:Wn(c),hodograph:Mn(f),parcels:to(h)},e}return e=r,(i=[{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.visible,i=void 0===e?void 0:e,n=t.diagram,o=void 0===n?void 0:n,r=t.windprofile,s=void 0===r?void 0:r,a=t.hodograph,u=void 0===a?void 0:a,l=t.parcels,c=void 0===l?void 0:l,d=!1;void 0===o?o={}:d=!0,void 0===s?s={}:d=!0,void 0===u?u={}:d=!0,void 0===c?c={}:d=!0,this._options.diagram=Jn(this._options.diagram,o),this._options.windprofile=Qn(this._options.windprofile,s),this._options.hodograph=no(this._options.hodograph,u),this._options.parcels=eo(this._options.parcels,c),d&&this.trigger("change:options"),void 0!==i&&(this.visible=i)}},{key:"getParcelOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e={visible:this.options.parcels.default.visible,temp:{visible:this.options.parcels.default.temp.visible,style:this.options.parcels.default.temp.style},dewp:{visible:this.options.parcels.default.dewp.visible,style:this.options.parcels.default.dewp.style}};return void 0!==t&&t.id in this.options.parcels&&(e=io(e,this.options.parcels[t.id],["temp","dewp"])),e}},{key:"sounding",get:function(){return this._sounding}},{key:"visible",get:function(){return this._visible},set:function(t){var e=this._visible;this._visible=!!t,e!=this._visible&&this.trigger("change:visible")}},{key:"options",get:function(){return this._options}}])&&Xn(e.prototype,i),n&&Xn(e,n),r}(yn);C(Un.prototype);var Zn=Un;function $n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.visible,i=void 0===e||e,n=t.temp,o=void 0===n?{}:n,r=t.dewp,s=void 0===r?{}:r,a=t.wetbulb,u=void 0===a?{}:a;return{visible:i,temp:Mn(o,{style:{color:"red",width:3,linecap:"round"}}),dewp:Mn(s,{style:{color:"blue",width:3,linecap:"round"}}),wetbulb:Mn(u,{style:{color:"green",width:2,linecap:"round"}})}}function Jn(t,e){return io(t,e,["temp","dewp","wetbulb"])}function Wn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.visible,i=void 0===e||e,n=t.windbarbs,o=void 0===n?{}:n,r=t.windspeed,s=void 0===r?{}:r;return{visible:i,windbarbs:Mn(o),windspeed:Mn(s)}}function Qn(t,e){return io(t,e,["windbarbs","windspeed"])}function to(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.visible&&(t.visible=!0),void 0===t.default&&(t.default={}),void 0===t.default.visible&&(t.default.visible=!1),void 0===t.default.temp&&(t.default.temp={}),void 0===t.default.temp.visible&&(t.default.temp.visible=!0),void 0===t.default.temp.style&&(t.default.temp.style={}),void 0===t.default.temp.style.color&&(t.default.temp.style.color="rgb(255, 153, 0)"),void 0===t.default.temp.style.width&&(t.default.temp.style.width=3),void 0===t.default.temp.style.linecap&&(t.default.temp.style.linecap="round"),void 0===t.default.dewp&&(t.default.dewp={}),void 0===t.default.dewp.visible&&(t.default.dewp.visible=!0),void 0===t.default.dewp.style&&(t.default.dewp.style={}),void 0===t.default.dewp.style.color&&(t.default.dewp.style.color="rgb(255, 194, 102)"),void 0===t.default.dewp.style.width&&(t.default.dewp.style.width=3),void 0===t.default.dewp.style.linecap&&(t.default.dewp.style.linecap="round"),t}function eo(t,e){return"visible"in e&&(t.visible=e.visible),"default"in e&&(t.default=io(t.default,e.default,["temp","dewp"])),Object.keys(e).filter((function(t){return"visible"!=t&&"default"!=t})).forEach((function(i){return t[i]=Jn(i in t?t[i]:{},e[i])})),t}function io(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return"visible"in e&&(t.visible=e.visible),i.forEach((function(i){i in e&&(t[i]=no(t[i]?t[i]:{style:{}},e[i]))})),t}function no(t,e){return"visible"in e&&(t.visible=e.visible),"style"in e&&["color","width","opacity","linecap","linejoin","dasharray"].forEach((function(i){i in e.style&&(t.style[i]=e.style[i])})),t}function oo(t){return(oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ro(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return so(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return so(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function so(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function ao(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uo(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function lo(t,e){return(lo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function co(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=po(t);if(e){var o=po(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return fo(this,i)}}function fo(t,e){return!e||"object"!==oo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function po(t){return(po=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ho=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lo(t,e)}(r,t);var e,i,n,o=co(r);function r(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.renderTo,n=void 0===i?void 0:i,s=e.width,a=void 0===s?void 0:s,u=e.height,l=void 0===u?void 0:u;if(ao(this,r),(t=o.call(this,{fireReplace:!1,fireAddRemoveOnReplace:!0,emptyObjectMaker:function(){return new Zn}}))._svgNode=void 0===n||"node"in n||"instance"in n?Object(Bn.SVG)(n):Object(Bn.SVG)().addTo(n),void 0!==a||void 0!==l)t._svgNode.size(a,l);else if(void 0===a&&void 0===l&&void 0!==n&&"getBoundingClientRect"in n){var c=n.getBoundingClientRect(),d=window.getComputedStyle(n);t._svgNode.size(c.width-parseFloat(d.getPropertyValue("padding-left"))-parseFloat(d.getPropertyValue("padding-right")),c.height-parseFloat(d.getPropertyValue("padding-top"))-parseFloat(d.getPropertyValue("padding-bottom")))}return t._plotAreas=new Set,t._svgNode.on("mousemove",(function(e){var i,n=ro(t._plotAreas);try{for(n.s();!(i=n.n()).done;){var o=i.value;"isHoverLabelsRemote"in o&&o.svgNode.dispatchEvent(e)}}catch(t){n.e(t)}finally{n.f()}})),t._svgNode.on("mouseout",(function(e){if(t._svgNode.node===e.target){var i,n=ro(t._plotAreas);try{for(n.s();!(i=n.n()).done;){var o=i.value;"_hoverLabelsGroup"in o&&o._hoverLabelsGroup.clear()}}catch(t){n.e(t)}finally{n.f()}}})),t.on("add:item",(function(e){var i,n=ro(t._plotAreas);try{for(n.s();!(i=n.n()).done;){var o=i.value;"addSounding"in o&&o.addSounding(e)}}catch(t){n.e(t)}finally{n.f()}})),t.on("remove:item",(function(e){var i,n=ro(t._plotAreas);try{for(n.s();!(i=n.n()).done;){var o=i.value;"removeSounding"in o&&o.removeSounding(e)}}catch(t){n.e(t)}finally{n.f()}})),t}return e=r,(i=[{key:"appendPlotArea",value:function(t){if(!this._plotAreas.has(t)){this._plotAreas.add(t),t.addTo(this.svgNode);var e,i=ro(this);try{for(i.s();!(e=i.n()).done;){var n=e.value;"addSounding"in t&&t.addSounding(n)}}catch(t){i.e(t)}finally{i.f()}return this}}},{key:"removePlotArea",value:function(t){if(this._plotAreas.has(t)){var e,i=ro(this);try{for(i.s();!(e=i.n()).done;){var n=e.value;t.removeSounding(n)}}catch(t){i.e(t)}finally{i.f()}return this._plotAreas.delete(t),this}}},{key:"exchangeCoordinateSystem",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=ro(this._plotAreas);try{for(n.s();!(e=n.n()).done;){var o=e.value;void 0!==i&&o.coordinateSystem!==i||(o.coordinateSystem=t)}}catch(t){n.e(t)}finally{n.f()}}},{key:"addSounding",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new Zn(t,e),n=1,o="sounding-".concat(n);this.containsId(o);)n++,o="sounding-".concat(n);return i.id=o,this.append(i),i}},{key:"svgNode",get:function(){return this._svgNode}}])&&uo(e.prototype,i),n&&uo(e,n),r}(wn);function vo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yo(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var mo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.width,n=void 0===i?100:i,o=e.height,r=void 0===o?100:o,s=e.pressure,a=void 0===s?{}:s,u=e.temperature,l=void 0===u?{}:u;vo(this,t),this._width=n,this._height=r,this.temperatureBottomLeft,this.temperatureBottomRight,this.inclinationTan,this.options={pressure:{},temperature:{}},this._initPressureOptions(a),this._initTemperatureOptions(l)}var e,i,n;return e=t,(i=[{key:"isIsobarsStraightLine",value:function(){return!0}},{key:"isDryAdiabatStraightLine",value:function(){return!1}},{key:"isIsothermsVertical",value:function(){return void 0!==this.options.temperature.inclinationAngle&&0==this.options.temperature.inclinationAngle}},{key:"getPByXY",value:function(t,e){return Math.pow(this.options.pressure.min,e/this.height)*Math.pow(this.options.pressure.max,(this.height-e)/this.height)}},{key:"getTByXY",value:function(t,e){var i=t-e*this.inclinationTan;return this.temperatureBottomLeft+i*(this.temperatureBottomRight-this.temperatureBottomLeft)/this.width}},{key:"getYByXP",value:function(t,e){return this.height*Math.log(this.options.pressure.max/e)/Math.log(this.options.pressure.max/this.options.pressure.min)}},{key:"getTByXP",value:function(t,e){return this.getTByXY(t,this.getYByXP(t,e))}},{key:"getXByYT",value:function(t,e){return(e-this.temperatureBottomLeft)*this.width/(this.temperatureBottomRight-this.temperatureBottomLeft)+t*this.inclinationTan}},{key:"getYByXT",value:function(t,e){return 0!=this.inclinationTan?(t-this.getXByYT(0,e))/this.inclinationTan:void 0}},{key:"getXByPT",value:function(t,e){return this.getXByYT(this.getYByXP(0,t),e)}},{key:"getYByPT",value:function(t){return this.getYByXP(0,t)}},{key:"getXByYPotentialTemperature",value:function(t,e){return e=a(e,this.getPByXY(0,t)),this.getXByYT(t,e)}},{key:"getYByXPotentialTemperature",value:function(t,e){var i=this.getPByXY(t,0),n=this.getPByXY(t,this.height);if(!(s(this.getTByXP(t,n),n)<e||e<s(this.getTByXP(t,i),i))){for(;i-n>10;){var o=n+(i-n)/2,r=s(this.getTByXP(t,o),o);if(void 0===r)return;r<e?i=o:n=o}return this.getYByXP(t,n+(i-n)/2)}}},{key:"getXByPPotentialTemperatur",value:function(t,e){return e=a(e,t),this.getXByPT(t,e)}},{key:"getYByPPotentialTemperatur",value:function(t,e){var i=this.getXByPPotentialTemperatur(t,e);return this.getYByXPotentialTemperature(i,e)}},{key:"getXByYHMR",value:function(t,e){var i=this.getPByXY(0,t);return this.getXByYT(t,l(e,i))}},{key:"getYByXHMR",value:function(t,e){for(var i=this.getPByXY(t,0),n=this.getPByXY(t,this.height);i-n>10;){var o=n+(i-n)/2,r=p(this.getTByXP(t,o),o);if(void 0===r)return;r<e?n=o:i=o}return this.getYByXP(t,n+(i-n)/2)}},{key:"getXByPHMR",value:function(t,e){var i=l(e,t);return this.getXByPT(t,i)}},{key:"getYByPHMR",value:function(t,e){var i=l(e,t);return this.getYByPT(t,i)}},{key:"getXByYEquiPotTemp",value:function(t,e){var i=u(e,this.getPByXY(0,t));return this.getXByYT(t,i)}},{key:"getYByXEquiPotTemp",value:function(t,e){for(var i=0,n=this.height,o=void 0;n-i>10;){o=i+(n-i)/2;var r=this.getYByXT(t,u(e,this.getPByXY(t,o)));if(void 0===r)return;r<e?n=o:i=o}return o}},{key:"getXByPEquiPotTemp",value:function(t,e){var i=u(e,t);return this.getXByPT(t,i)}},{key:"getYByPEquiPotTemp",value:function(t,e){var i=u(e,t);return this.getYByPT(t,i)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.pressure,i=void 0===e?{}:e,n=t.temperature,o=void 0===n?{}:n;"min"in i&&(this.options.pressure.min=void 0===i.min?100:i.min),"max"in i&&(this.options.pressure.max=void 0===i.max?1e3:i.max),"min"in o&&(this.options.temperature.min=void 0===o.min?m(-40):o.min),"max"in o&&(this.options.temperature.max=void 0===o.max?m(-45):o.max),"reference"in o&&(this.options.temperature.reference=void 0===o.reference?"base":o.reference),"inclinationAngle"in o&&(this.options.temperature.inclinationAngle=void 0===o.inclinationAngle?45:o.inclinationAngle),this._normalizeTemperatureRange(),this.trigger("change:options")}},{key:"_initPressureOptions",value:function(t){var e=t.min,i=void 0===e?100:e,n=t.max,o=void 0===n?1050:n;this.options.pressure={min:i,max:o}}},{key:"_initTemperatureOptions",value:function(t){var e=t.min,i=void 0===e?m(-40):e,n=t.max,o=void 0===n?m(45):n,r=t.reference,s=void 0===r?"base":r,a=t.inclinationAngle,u=void 0===a?45:a;this.options.temperature={min:i,max:o,reference:s,inclinationAngle:u},this._normalizeTemperatureRange()}},{key:"_normalizeTemperatureRange",value:function(){if(this.temperatureBottomLeft=this.options.temperature.min,this.temperatureBottomRight=this.options.temperature.max,this.inclinationTan=45==this.options.temperature.inclinationAngle?1:0==this.options.temperature.inclinationAngle?0:Math.tan(this.options.temperature.inclinationAngle*Math.PI/180),/^[0-9]+$/.test(this.options.temperature.reference)){var t=this.getYByXP(0,this.options.temperature.reference),e=this.inclinationTan*t,i=(this.temperatureBottomRight-this.temperatureBottomLeft)/this.width;this.temperatureBottomLeft+=i*e,this.temperatureBottomRight+=i*e}}},{key:"width",get:function(){return this._width},set:function(t){var e=this._width;this._width=t,e!=this._width&&this.trigger("change:options")}},{key:"height",get:function(){return this._height},set:function(t){var e=this._height;this._height=t,e!=this._height&&this.trigger("change:options")}}])&&yo(e.prototype,i),n&&yo(e,n),t}();C(mo.prototype);var go=mo;function bo(t){return(bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oo(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _o(t,e){return(_o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function So(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=ko(t);if(e){var o=ko(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return To(this,i)}}function To(t,e){return!e||"object"!==bo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ko(t){return(ko=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xo=.2857,Po=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_o(t,e)}(r,t);var e,i,n,o=So(r);function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.width,i=void 0===e?100:e,n=t.height,s=void 0===n?100:n,a=t.pressure,u=void 0===a?{}:a,l=t.temperature,c=void 0===l?{}:l;return wo(this,r),c.inclinationAngle=0,o.call(this,{width:i,height:s,pressure:u,temperature:c})}return e=r,(i=[{key:"isDryAdiabatStraightLine",value:function(){return!0}},{key:"getPByXY",value:function(t,e){return Math.pow(Math.pow(this.options.pressure.max,xo)-e*(Math.pow(this.options.pressure.max,xo)-Math.pow(this.options.pressure.min,xo))/this.height,1/xo)}},{key:"getYByXP",value:function(t,e){return this.height*(Math.pow(this.options.pressure.max,xo)-Math.pow(e,xo))/(Math.pow(this.options.pressure.max,xo)-Math.pow(this.options.pressure.min,xo))}},{key:"getYByXT",value:function(){}}])&&Oo(e.prototype,i),n&&Oo(e,n),r}(go);function Eo(t){return(Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ro(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jo(t,e){return(jo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Io(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Bo(t);if(e){var o=Bo(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return No(this,i)}}function No(t,e){return!e||"object"!==Eo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bo(t){return(Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Co=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jo(t,e)}(i,t);var e=Io(i);function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width,o=void 0===n?100:n,r=t.height,s=void 0===r?100:r,a=t.pressure,u=void 0===a?{}:a,l=t.temperature,c=void 0===l?{}:l;return Ro(this,i),c.inclinationAngle=0,e.call(this,{width:o,height:s,pressure:u,temperature:c})}return i}(go);function Lo(t){return(Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Do(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mo(t,e){return(Mo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ao(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Yo(t);if(e){var o=Yo(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Go(this,i)}}function Go(t,e){return!e||"object"!==Lo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yo(t){return(Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Vo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mo(t,e)}(i,t);var e=Ao(i);function i(){return Do(this,i),e.apply(this,arguments)}return i}(go);function Fo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xo(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var qo=function(){function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=i.svgNode,o=void 0===n?void 0:n,r=i.coordinateSystem,s=void 0===r?void 0:r,a=i.x,u=void 0===a?0:a,l=i.y,c=void 0===l?0:l,d=i.width,f=void 0===d?100:d,p=i.height,h=void 0===p?100:p,v=i.style,y=void 0===v?{}:v,m=i.visible,g=void 0===m||m,b=i.events,w=void 0===b?{}:b;Fo(this,t),this._svgNode=Object(Bn.SVG)().attr({x:u,y:c,width:f,height:h}).css(this._getNormalizedStyle(y)).css("display",g?"inline":"none"),void 0!==o&&this.addTo(o),this._svgNodeBackground=this._svgNode.group(),this._visible=g,this._coordinateSystem=s,this._coordinateSystemListenerKey=void 0!==this._coordinateSystem?this._coordinateSystem.on("change:options",(function(){return e.onCoordinateSystemChange()})):void 0,this.on("change:extent",(function(){return e.onCoordinateSystemChange()})),this._initEvents(w)}var e,i,n;return e=t,(i=[{key:"addTo",value:function(t){this._svgNode.addTo(t)}},{key:"init",value:function(){this.onCoordinateSystemChange()}},{key:"onCoordinateSystemChange",value:function(){void 0!==this._coordinateSystem&&this.drawBackground(this._svgNodeBackground)}},{key:"drawBackground",value:function(t){t.clear(),this.trigger("prebuild:background",{node:t}),this._drawBackground(t),this.trigger("postbuild:background",{node:t})}},{key:"_drawBackground",value:function(){}},{key:"_getNormalizedStyle",value:function(t){var e=t.overflow;return{overflow:void 0===e?"hidden":e}}},{key:"_initEvents",value:function(t){var e=this,i=t.click,n=void 0===i?void 0:i,o=t.dblclick,r=void 0===o?void 0:o,s=t.mousedown,a=void 0===s?void 0:s,u=t.mouseup,l=void 0===u?void 0:u,c=t.mouseover,d=void 0===c?void 0:c,f=t.mouseout,p=void 0===f?void 0:f,h=t.mousemove,v=void 0===h?void 0:h,y=t.touchstart,m=void 0===y?void 0:y,g=t.touchmove,b=void 0===g?void 0:g,w=t.touchleave,O=void 0===w?void 0:w,_=t.touchend,S=void 0===_?void 0:_,T=t.touchcancel,k={click:n,dblclick:r,mousedown:a,mouseup:l,mouseover:d,mouseout:p,mousemove:v,touchstart:m,touchmove:b,touchleave:O,touchend:S,touchcancel:void 0===T?void 0:T};Object.keys(k).forEach((function(t){e._svgNode.on(t,(function(i){var n=e.getExtendedEvent(i,e._svgNode.point(i.pageX-window.pageXOffset,i.pageY-window.pageYOffset));void 0!==k[t]&&k[t].call(e,n),e.trigger(t,n)}))}))}},{key:"getExtendedEvent",value:function(t,e){return t.elementX=e.x,t.elementY=e.y,t}},{key:"svgNode",get:function(){return this._svgNode}},{key:"visible",get:function(){return this._visible},set:function(t){var e=this._visible;this._visible=t,e!=this._visible&&(this._svgNode.style("display",this._visible?"inline":"none"),this.trigger("change:visible"))}},{key:"x",get:function(){return this._svgNode.attr("x")},set:function(t){this._svgNode.attr({x:t}),this.trigger("change:position")}},{key:"y",get:function(){return this._svgNode.attr("y")},set:function(t){this._svgNode.attr({y:t}),this.trigger("change:position")}},{key:"width",get:function(){return this._svgNode.attr("width")},set:function(t){this._svgNode.attr({width:t}),this.trigger("change:extent")}},{key:"height",get:function(){return this._svgNode.attr("height")},set:function(t){this._svgNode.attr({height:t}),this.trigger("change:extent")}},{key:"style",get:function(){return this._svgNode.css()},set:function(t){this._svgNode.css(t)}},{key:"coordinateSystem",get:function(){return this._coordinateSystem},set:function(t){var e=this;void 0!==this._coordinateSystemListenerKey&&this._coordinateSystem.un("change:options",this._coordinateSystemListenerKey),this._coordinateSystem=t,this._coordinateSystemListenerKey=this._coordinateSystem.on("change:options",(function(){return e.onCoordinateSystemChange()})),this.onCoordinateSystemChange()}},{key:"minExtentLength",get:function(){return Math.min(this.width,this.height)}},{key:"maxExtentLength",get:function(){return Math.max(this.width,this.height)}}])&&Xo(e.prototype,i),n&&Xo(e,n),t}();C(qo.prototype);var zo=qo;function Ho(t){return(Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ko(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return Uo(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Uo(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function Uo(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Zo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Jo(t,e,i){return(Jo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=er(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function Wo(t,e){return(Wo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=er(t);if(e){var o=er(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return tr(this,i)}}function tr(t,e){return!e||"object"!==Ho(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function er(t){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ir=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wo(t,e)}(r,t);var e,i,n,o=Qo(r);function r(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.svgNode,n=void 0===i?void 0:i,s=e.coordinateSystem,a=void 0===s?void 0:s,u=e.x,l=void 0===u?0:u,c=e.y,d=void 0===c?0:c,f=e.width,p=void 0===f?100:f,h=e.height,v=void 0===h?100:h,y=e.style,m=void 0===y?{}:y,g=e.visible,b=void 0===g||g,w=e.events,O=void 0===w?{}:w,_=e.getSoundingVisibility,S=void 0===_?function(t){return t.visible}:_,T=e.dataGroupIds,k=void 0===T?[]:T,x=e.getCoordinatesByLevelData,P=void 0===x?function(){return{x:void 0,y:void 0}}:x,E=e.insertDataGroupInto,R=void 0===E?function(){}:E;return Zo(this,r),(t=o.call(this,{svgNode:n,coordinateSystem:a,x:l,y:d,width:p,height:v,style:m,visible:b,events:O}))._getSoundingVisibility=S,t._dataGroupIds=k,t._getCoordinatesByLevelData=P,t._insertDataGroupInto=R,t._svgNodeData=t.svgNode.group(),t._soundings=new Map,t}return e=r,(i=[{key:"addSounding",value:function(t){var e=this,i=this._svgNodeData.group(),n=function(){void 0!==e.coordinateSystem&&e.drawSounding(t,i),e.onChangeSoundingVisibility(t,i)},o=t.on("change:visible",(function(){return e.onChangeSoundingVisibility(t,i)})),r=t.on("change:options",n);this._soundings.set(t,{group:i,listenerKeyVisible:o,listenerKeyOptions:r}),this.trigger("add:sounding",t),n()}},{key:"removeSounding",value:function(t){this._soundings.has(t)&&(this._soundings.get(t).group.remove(),t.un(this._soundings.get(t).listenerKeyVisible),t.un(this._soundings.get(t).listenerKeyOptions),this._soundings.delete(t)),this.trigger("remove:sounding",t)}},{key:"onCoordinateSystemChange",value:function(){if(Jo(er(r.prototype),"onCoordinateSystemChange",this).call(this),void 0!==this.coordinateSystem){var t,e=Ko(this._soundings.keys());try{for(e.s();!(t=e.n()).done;){var i=t.value;this.drawSounding(i,this._soundings.get(i).group)}}catch(t){e.e(t)}finally{e.f()}}}},{key:"onChangeSoundingVisibility",value:function(t,e){e.css("display",this._getSoundingVisibility(t)?"inline":"none")}},{key:"drawSounding",value:function(t,e){var i=this;e.clear(),this.trigger("preinsert:sounding",{sounding:t,node:e});var n=e.group(),o={};t.sounding.getLevels().forEach((function(e){var n=t.sounding.getData(e);i._dataGroupIds.forEach((function(e){e in o||(o[e]=[]);var r={levelData:n,x:void 0,y:void 0},s=i._getCoordinatesByLevelData(e,t,r.levelData,i),a=s.x,u=s.y;void 0===a&&void 0===u||(r.x=a,r.y=u,o[e].push(r))}))})),Object.keys(o).forEach((function(e){o[e].length>0&&i._insertDataGroupInto(n,e,t,o[e],i)})),this.trigger("postinsert:sounding",{sounding:t,node:e})}},{key:"dataGroupIds",get:function(){return this._dataGroupIds}},{key:"getCoordinatesByLevelData",get:function(){return this._getCoordinatesByLevelData}}])&&$o(e.prototype,i),n&&$o(e,n),r}(zo);function nr(t){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function or(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return rr(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return rr(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function rr(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function sr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ar(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ur(t,e,i){return(ur="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function lr(t,e){return(lr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=fr(t);if(e){var o=fr(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return dr(this,i)}}function dr(t,e){return!e||"object"!==nr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fr(t){return(fr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lr(t,e)}(r,t);var e,i,n,o=cr(r);function r(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.svgNode,n=void 0===i?void 0:i,s=e.coordinateSystem,a=void 0===s?void 0:s,u=e.x,l=void 0===u?0:u,c=e.y,d=void 0===c?0:c,f=e.width,p=void 0===f?100:f,h=e.height,v=void 0===h?100:h,y=e.style,m=void 0===y?{}:y,g=e.visible,b=void 0===g||g,w=e.events,O=void 0===w?{}:w,_=e.hoverLabels,S=void 0===_?{}:_,T=e.getSoundingVisibility,k=void 0===T?function(t){return t.visible}:T,x=e.dataGroupIds,P=void 0===x?void 0:x,E=e.getCoordinatesByLevelData,R=void 0===E?void 0:E,j=e.insertDataGroupInto,I=void 0===j?void 0:j;return sr(this,r),(t=o.call(this,{svgNode:n,coordinateSystem:a,x:l,y:d,width:p,height:v,style:m,visible:b,events:O,getSoundingVisibility:k,dataGroupIds:P,getCoordinatesByLevelData:R,insertDataGroupInto:I}))._hoverLabelsGroup=t.svgNode.group(),t._isHoverLabelsRemote=!0,t._initHoverLabels(S),t}return e=r,(i=[{key:"onChangeSoundingVisibility",value:function(t,e){ur(fr(r.prototype),"onChangeSoundingVisibility",this).call(this,t,e),this._hoverLabelsGroup.clear()}},{key:"drawSounding",value:function(t,e){ur(fr(r.prototype),"drawSounding",this).call(this,t,e),this._hoverLabelsGroup.clear()}},{key:"getExtendedEvent",value:function(t,e){return(t=ur(fr(r.prototype),"getExtendedEvent",this).call(this,t,e)).diagramPres=void 0,void 0!==this.coordinateSystem&&(t.diagramPres=this.coordinateSystem.getPByXY(0,this.coordinateSystem.height-t.elementY)),t}},{key:"_initHoverLabels",value:function(t){var e=this,i=t.visible,n=void 0===i||i,o=t.type,r=void 0===o?"mousemove":o,s=t.remote,a=void 0===s||s,u=t.insertLabelsFunc,l=void 0===u?void 0:u;this._isHoverLabelsRemote=a,n&&void 0!==l&&(this.on("change:extent",(function(){return e._hoverLabelsGroup.clear()})),this.on(r,(function(t){if(t.diagramPres){var i=e.hoverLabelsSounding;if(void 0!==i){var n=i.sounding;l(i,n.getData(n.getNearestLevel(t.diagramPres)),e._hoverLabelsGroup)}}})))}},{key:"isHoverLabelsRemote",get:function(){return this._isHoverLabelsRemote}},{key:"hoverLabelsSounding",get:function(){var t,e=or(this._soundings.keys());try{for(e.s();!(t=e.n()).done;){var i=t.value;if(this._getSoundingVisibility(i))return i}}catch(t){e.e(t)}finally{e.f()}}}])&&ar(e.prototype,i),n&&ar(e,n),r}(ir);function hr(t){return(hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vr(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return yr(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return yr(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function yr(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function mr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gr(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function br(t,e,i){return(br="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Sr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function wr(t,e){return(wr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Or(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Sr(t);if(e){var o=Sr(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return _r(this,i)}}function _r(t,e){return!e||"object"!==hr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sr(t){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wr(t,e)}(a,t);var e,i,n,r=Or(a);function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.svgNode,n=void 0===i?void 0:i,o=e.coordinateSystem,s=void 0===o?void 0:o,u=e.x,l=void 0===u?0:u,d=e.y,f=void 0===d?0:d,p=e.width,h=void 0===p?100:p,v=e.height,y=void 0===v?100:v,b=e.style,w=void 0===b?{}:b,O=e.visible,_=void 0===O||O,S=e.events,T=void 0===S?{}:S,k=e.dataGroupIds,x=void 0===k?["temp","dewp","wetbulb"]:k,P=e.getCoordinatesByLevelData,E=void 0===P?function(t,e,i,n){if(void 0===i.pres)return{};var o=void 0;switch(t){case"temp":o=i.tmpk;break;case"dewp":o=i.dwpk;break;case"wetbulb":o=c(i.tmpk,i.dwpk,i.pres)}return void 0===o?{}:{x:n.coordinateSystem.getXByPT(i.pres,o),y:n.coordinateSystem.height-n.coordinateSystem.getYByPT(i.pres,o),value:Math.round(10*g(o))/10,unit:"℃"}}:P,R=e.insertDataGroupInto,j=void 0===R?function(t,e,i,n){var o=e in i.options.diagram?i.options.diagram[e].style:{};t.group().polyline(n.map((function(t){return[t.x,t.y]}))).fill("none").stroke(o)}:R,I=e.isobars,N=void 0===I?{}:I,B=e.isotherms,C=void 0===B?{}:B,L=e.dryadiabats,D=void 0===L?{}:L,M=e.pseudoadiabats,A=void 0===M?{}:M,G=e.mixingratio,Y=void 0===G?{}:G,V=e.hoverLabels,F=void 0===V?{}:V,X=e.parcels,q=void 0===X?{}:X;return mr(this,a),(t=r.call(this,{svgNode:n,coordinateSystem:s,x:l,y:f,width:h,height:y,style:w,visible:_,events:T,hoverLabels:F,getSoundingVisibility:function(t){return t.visible&&t.options.diagram.visible},dataGroupIds:x,getCoordinatesByLevelData:E,insertDataGroupInto:j})).options={isobars:kr(N),isotherms:kr(C,{highlightedLines:[m(0)]}),dryadiabats:kr(D),pseudoadiabats:kr(A,{style:{color:"rgb(102, 51, 0)",dasharray:6}}),mixingratio:kr(Y,{minPressure:500,style:{color:"rgb(102, 51, 0)",dasharray:2}})},t.svgGroups={border:t._svgNodeBackground.group(),isobars:t._svgNodeBackground.group(),isotherms:t._svgNodeBackground.group(),dryadiabats:t._svgNodeBackground.group(),mixingratio:t._svgNodeBackground.group(),pseudoadiabats:t._svgNodeBackground.group()},t._parcelsOptions=q,"visible"in t._parcelsOptions||(t._parcelsOptions.visible=!0),t._parcels=new Map,t.on("add:sounding",(function(e){t._parcels.set(e,{parcelsGroup:void 0,listenerKey:e.sounding.parcelCollection.on("add:item",(function(){return t.drawParcels(e)}))})})),t.on("remove:sounding",(function(e){t._parcels.has(e)&&e.sounding.parcelCollection.un("add:item",t._parcels.get(e).listenerKey),t._parcels.delete(e)})),t.init(),t}return e=a,(i=[{key:"getIsobarsVisible",value:function(){return this.options.isobars.visible}},{key:"setIsobarsVisible",value:function(t){return this.options.isobars.visible=!!t,this.plotIsobars(),this}},{key:"getIsothermsVisible",value:function(){return this.options.isotherms.visible}},{key:"setIsothermsVisible",value:function(t){return this.options.isotherms.visible=!!t,this.plotIsotherms(),this}},{key:"getDryadiabatsVisible",value:function(){return this.options.dryadiabats.visible}},{key:"setDryadiabatsVisible",value:function(t){return this.options.dryadiabats.visible=!!t,this.plotDryadiabats(),this}},{key:"getPseudoadiabatsVisible",value:function(){return this.options.pseudoadiabats.visible}},{key:"setPseudoadiabatsVisible",value:function(t){return this.options.pseudoadiabats.visible=!!t,this.plotPseudoadiabats(),this}},{key:"getMixingratioVisible",value:function(){return this.options.mixingratio.visible}},{key:"setMixingratioVisible",value:function(t){return this.options.mixingratio.visible=!!t,this.plotMixingratio(),this}},{key:"drawSounding",value:function(t,e){if(br(Sr(a.prototype),"drawSounding",this).call(this,t,e),this._parcels.has(t)){var i=this._parcels.get(t);i.parcelsGroup=e.group(),t.options.parcels.visible||i.parcelsGroup.hide(),this._parcels.set(t,i)}this.drawParcels(t)}},{key:"drawParcels",value:function(t){if(this._parcelsOptions.visible&&this._parcels.has(t)){var e=this._parcels.get(t).parcelsGroup;e.clear();var i,n=vr(t.sounding.parcelCollection);try{for(n.s();!(i=n.n()).done;){var o=i.value;this.drawParcel(t,o,e.group())}}catch(t){n.e(t)}finally{n.f()}}}},{key:"drawParcel",value:function(t,e,i){var n=this;if(void 0!==e.pres&&void 0!==e.tmpc&&void 0!==e.dwpc){var o=s(m(e.tmpc),e.pres),r=p(m(e.dwpc),e.pres),a=h(o,r),u=y(m(e.tmpc),m(e.dwpc)),l=d(u,u,a),c=t.getParcelOptions(e);c.visible||i.hide();var f=i.group();c.temp.visible||f.hide();var v=i.group();c.dewp.visible||v.hide();var g=this.coordinateSystem.getYByPT(e.pres,m(e.tmpc)),b=this.coordinateSystem.getXByYPotentialTemperature(g,o),w=this.coordinateSystem.getYByPPotentialTemperatur(a,o),O=this.coordinateSystem.getXByYPotentialTemperature(w,o),_=[[b,g]];if(!this.coordinateSystem.isDryAdiabatStraightLine())for(var S=g+10;S<w;S+=10)_.push([this.coordinateSystem.getXByYPotentialTemperature(S,o),S]);_.push([O,w]);for(var T=this.coordinateSystem.height,k=this.coordinateSystem.getXByYEquiPotTemp(T,l),x=w+10;x<T;x+=10)_.push([this.coordinateSystem.getXByYEquiPotTemp(x,l),x]);_.push([k,T]),f.polyline(_.map((function(t){return t[1]=n.coordinateSystem.height-t[1],t}))).fill("none").stroke(c.temp.style);for(var P=this.coordinateSystem.getXByYHMR(g,r),E=this.coordinateSystem.getXByYHMR(w,r),R=[[P,g]],j=g+10;j<w;j+=10)R.push([this.coordinateSystem.getXByYHMR(j,r),j]);R.push([E,w]),v.polyline(R.map((function(t){return t[1]=n.coordinateSystem.height-t[1],t}))).fill("none").stroke(c.dewp.style)}}},{key:"_drawBackground",value:function(t){br(Sr(a.prototype),"_drawBackground",this).call(this,t),this.svgGroups={border:t.group(),isobars:t.group(),isotherms:t.group(),dryadiabats:t.group(),mixingratio:t.group(),pseudoadiabats:t.group()},this.svgGroups.border.clear(),this.svgGroups.border.rect(this.coordinateSystem.width,this.coordinateSystem.height).attr({stroke:"black","stroke-width":1,"fill-opacity":0}),this.plotIsobars(!0),this.plotIsotherms(!0),this.plotDryadiabats(!0),this.plotPseudoadiabats(!0),this.plotMixingratio(!0)}},{key:"plotIsobars",value:function(t){var e=this,i=this.coordinateSystem.getPByXY(0,this.coordinateSystem.height),n=this.coordinateSystem.getPByXY(0,0),o=n-i;this._plotLines(this.svgGroups.isobars,this.options.isobars,{min:i,max:n,interval:o>500?100:o>50?10:1},(function(t){var i=e.coordinateSystem.getYByXP(0,t);return[[0,i],[e.coordinateSystem.width,i]]}),t)}},{key:"plotIsotherms",value:function(t){var e=this,i=g(this.coordinateSystem.getTByXY(0,this.coordinateSystem.height)),n=g(this.coordinateSystem.getTByXY(this.coordinateSystem.width,0)),o=n-i;this._plotLines(this.svgGroups.isotherms,this.options.isotherms,{min:i,max:n,interval:o>50?10:5},(function(t){t=m(t);var i=[[void 0,void 0],[void 0,void 0]];return e.coordinateSystem.isIsothermsVertical()?(i[0][1]=0,i[1][1]=e.coordinateSystem.height,i[0][0]=i[1][0]=e.coordinateSystem.getXByYT(i[0][1],t)):(i[0][1]=0,i[0][0]=e.coordinateSystem.getXByYT(i[0][1],t),i[0][0]<0&&(i[0][1]=e.coordinateSystem.getYByXT(i[0][0]=0,t)),i[1][0]=e.coordinateSystem.width,i[1][1]=e.coordinateSystem.getYByXT(i[1][0],t),void 0===i[1][1]?(i[1][0]=i[0][0],i[1][1]=e.coordinateSystem.height):i[1][1]>e.coordinateSystem.height&&(i[1][1]=e.coordinateSystem.height,i[1][0]=e.coordinateSystem.getXByYT(i[1][1],t))),i}),t)}},{key:"plotDryadiabats",value:function(t){var e=this;this._plotLines(this.svgGroups.dryadiabats,this.options.dryadiabats,{min:g(s(this.coordinateSystem.getTByXY(0,0),this.coordinateSystem.getPByXY(0,0))),max:g(s(this.coordinateSystem.getTByXY(this.coordinateSystem.width,this.coordinateSystem.height),this.coordinateSystem.getPByXY(this.coordinateSystem.width,this.coordinateSystem.height))),interval:10},(function(t){var i=m(t),n=0,o=e.coordinateSystem.getXByYPotentialTemperature(n,i);(void 0===o||o>e.coordinateSystem.width)&&(o=e.coordinateSystem.width,n=e.coordinateSystem.getYByXPotentialTemperature(o,i));var r=0,s=e.coordinateSystem.getYByXPotentialTemperature(r,i);if((void 0===s||s>e.coordinateSystem.height)&&(s=e.coordinateSystem.height,r=e.coordinateSystem.getXByYPotentialTemperature(s,i)),void 0!==o&&void 0!==n&&void 0!==r&&void 0!==s){if(e.coordinateSystem.isDryAdiabatStraightLine())return[[o,n],[r,s]];for(var a=[[o,n]],u=n+10;u<s;u+=10)a.push([e.coordinateSystem.getXByYPotentialTemperature(u,i),u]);return a.push([r,s]),a}}),t)}},{key:"plotPseudoadiabats",value:function(t){var e=this;this._plotLines(this.svgGroups.pseudoadiabats,this.options.pseudoadiabats,{lines:[-18,-5,10,30,60,110,180]},(function(t){for(var i=m(t),n=Math.max(0,void 0===e.options.pseudoadiabats.maxPressure?0:e.coordinateSystem.getYByPEquiPotTemp(e.options.pseudoadiabats.maxPressure,i)),o=e.coordinateSystem.getXByYEquiPotTemp(n,i),r=Math.min(e.coordinateSystem.height,void 0===e.options.pseudoadiabats.minPressure?e.coordinateSystem.height:e.coordinateSystem.getYByPEquiPotTemp(e.options.pseudoadiabats.minPressure,i)),s=e.coordinateSystem.getXByYEquiPotTemp(r,i),a=[[o,n]],u=n+10;u<r;u+=10)a.push([e.coordinateSystem.getXByYEquiPotTemp(u,i),u]);return a.push([s,r]),a}),t)}},{key:"plotMixingratio",value:function(t){var e=this;this._plotLines(this.svgGroups.mixingratio,this.options.mixingratio,{lines:[.01,.1,1,2,4,7,10,16,21,32,40]},(function(t){for(var i=Math.max(0,void 0===e.options.mixingratio.maxPressure?0:e.coordinateSystem.getYByPHMR(e.options.mixingratio.maxPressure,t)),n=e.coordinateSystem.getXByYHMR(i,t),o=Math.min(e.coordinateSystem.height,void 0===e.options.mixingratio.minPressure?e.coordinateSystem.height:e.coordinateSystem.getYByPHMR(e.options.mixingratio.minPressure,t)),r=e.coordinateSystem.getXByYHMR(o,t),s=[[n,i]],a=i+10;a<o;a+=10)s.push([e.coordinateSystem.getXByYHMR(a,t),a]);return s.push([r,o]),s}),t)}},{key:"_plotLines",value:function(t,e,i,n,o){if(e.visible?t.show():t.hide(),o){t.clear();var r=[];if(void 0!==e.lines)r=e.lines;else if(void 0===e.min&&void 0===e.max&&void 0===e.interval&&void 0!==i.lines)r=i.lines;else{void 0!==e.min&&(i.min=e.min),void 0!==e.max&&(i.max=e.max);var s=e.interval;void 0===s&&(s=i.interval);for(var a=Math.ceil(i.min/s)*s,u=Math.floor(i.max/s)*s,l=a;l<=u;l+=s)r.push(l)}var c=3;void 0!==e.style.width&&(c=e.style.width+2),r.forEach((function(i){var o=n.call(this,i),r=2==o.length?t.line(o[0][0],this.coordinateSystem.height-o[0][1],o[1][0],this.coordinateSystem.height-o[1][1]).stroke(e.style):t.polyline(o.map((function(t){return t[1]=this.coordinateSystem.height-t[1],t}),this)).fill("none").stroke(e.style);void 0!==e.highlightedLines&&e.highlightedLines.forEach((function(t){i==t&&r.stroke({width:c})}),this)}),this)}}},{key:"getExtendedEvent",value:function(t,e){return(t=br(Sr(a.prototype),"getExtendedEvent",this).call(this,t,e)).diagramTmpk=this.coordinateSystem.getTByXY(t.elementX,this.coordinateSystem.height-t.elementY),t}},{key:"_initHoverLabels",value:function(t){var e=t.visible,i=void 0===e||e,n=t.type,o=void 0===n?"mousemove":n,r=t.snapToData,s=void 0===r||r,u=t.remote,l=void 0===u||u,c=t.insertLabelsFunc,d=void 0===c?void 0:c,f=t.pres,p=void 0===f?{}:f,h=t.temp,v=void 0===h?{}:h,y=t.dewp,m=void 0===y?{}:y,g=t.wetbulb,b=void 0===g?{}:g;p.length="length"in p?p.length:60,p.align="align"in p?p.align:"left","visible"in p||(p.visible=!0),"style"in p||(p.style={}),p.font=Dn(p.font,{anchor:"right"==p.align?"end":"start"}),"fill"in p||(p.fill={}),void 0===p.fill.opacity&&(p.fill.opacity=.7),void 0===p.horizontalMargin&&(p.horizontalMargin=5),"visible"in v||(v.visible=!0),"style"in v||(v.style={}),v.font=Dn(v.font,{anchor:"start","alignment-baseline":"bottom"}),"fill"in v||(v.fill={}),void 0===v.fill.opacity&&(v.fill.opacity=.7),v.radius="radius"in v?v.radius:void 0,v.radiusPlus="radiusPlus"in v?v.radiusPlus:2,void 0===v.horizontalMargin&&(v.horizontalMargin=10),"visible"in m||(m.visible=!0),"style"in m||(m.style={}),m.font=Dn(m.font,{anchor:"end","alignment-baseline":"bottom"}),"fill"in m||(m.fill={}),void 0===m.fill.opacity&&(m.fill.opacity=.7),m.radius="radius"in m?m.radius:void 0,m.radiusPlus="radiusPlus"in m?m.radiusPlus:2,void 0===m.horizontalMargin&&(m.horizontalMargin=10),"visible"in b||(b.visible=!0),"style"in b||(b.style={}),b.font=Dn(b.font,{anchor:"middle"}),"fill"in b||(b.fill={}),void 0===b.fill.opacity&&(b.fill.opacity=.7),b.radius="radius"in b?b.radius:void 0,b.radiusPlus="radiusPlus"in b?b.radiusPlus:2,void 0===b.verticalMargin&&(b.verticalMargin=10),void 0===d&&(d=this._makeInsertLabelsFunc(p,v,m,b)),br(Sr(a.prototype),"_initHoverLabels",this).call(this,{visible:i,type:o,snapToData:s,remote:l,insertLabelsFunc:d})}},{key:"_makeInsertLabelsFunc",value:function(t,e,i,n){var r=this;return function(s,a,u){u.clear(),void 0!==a.pres&&(t.visible&&function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n.length,s=void 0===r?60:r,a=n.align,u=void 0===a?"left":a,l=n.horizontalMargin,c=void 0===l?void 0:l,d=n.verticalMargin,f=void 0===d?void 0:d,p=n.style,h=void 0===p?{}:p,v=n.font,y=void 0===v?{}:v,m=n.fill,g=void 0===m?{}:m,b=0,w=s,O=/^([0-9]+)%$/.exec(w);O&&(w=O[1]/100*i.width),"right"==u&&(b=i.width,w=i.width-w);var _=i.height-i.getYByXP(0,e.pres);h=Ln(h),t.line([[Math.min(b,w),_],[Math.max(b,w),_]]).stroke(h),(y=Dn(y))["alignment-baseline"]="bottom",Gn({node:t,text:"".concat(Math.round(e.pres)," hPa"),x:b,y:_,horizontalMargin:c,verticalMargin:f,font:y,fill:g}),y["alignment-baseline"]="top";var S=void 0===e.hght?"~".concat(Math.round(o(e.pres))," m"):"".concat(Math.round(e.hght)," m");Gn({node:t,text:S,x:b,y:_,horizontalMargin:c,verticalMargin:f,font:y,fill:g})}(u,a,r.coordinateSystem,t),r.dataGroupIds.reverse().forEach((function(t){var o={visible:!1};switch(t){case"temp":o=e;break;case"dewp":o=i;break;case"wetbulb":o=n}if(o.visible){var l=r._getCoordinatesByLevelData(t,s,a,r),c=l.x,d=l.y,f=l.value,p=l.unit;if(void 0!==c&&void 0!==d){var h=t in r.hoverLabelsSounding.options.diagram?r.hoverLabelsSounding.options.diagram[t].style.width:3,v=void 0===o.radius?h+o.radiusPlus:o.radius,y=o.style;!("color"in y)&&t in r.hoverLabelsSounding.options.diagram&&(y.color=s.options.diagram[t].style.color),u.circle(2*v).attr({cx:c,cy:d}).fill(y),Gn({node:u,text:"".concat(f," ").concat(p),x:c,y:d,horizontalMargin:o.horizontalMargin,verticalMargin:o.verticalMargin,font:o.font,fill:o.fill})}}})))}}}])&&gr(e.prototype,i),n&&gr(e,n),a}(pr);function kr(t){var e=t.highlightedLines,i=void 0===e?void 0:e,n=t.interval,o=void 0===n?void 0:n,r=t.lines,s=void 0===r?void 0:r,a=t.max,u=void 0===a?void 0:a,l=t.min,c=void 0===l?void 0:l,d=t.maxPressure,f=void 0===d?void 0:d,p=t.minPressure,h=void 0===p?void 0:p,v=t.style,y=void 0===v?void 0:v,m=t.visible,g=void 0===m?void 0:m,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{highlightedLines:An(i,b.highlightedLines),interval:An(o,b.interval),lines:An(s,b.lines),max:An(u,b.max),min:An(c,b.min),maxPressure:An(f,b.maxPressure),minPressure:An(h,b.minPressure),style:Ln(y,b.style),visible:An(g,b.visible,!0)}}function xr(t){return(xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pr(t,e){return(Pr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Er(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=jr(t);if(e){var o=jr(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Rr(this,i)}}function Rr(t,e){return!e||"object"!==xr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jr(t){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ir=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pr(t,e)}(i,t);var e=Er(i);function i(t){var n,o=t.svgNode,r=void 0===o?void 0:o,s=t.coordinateSystem,a=void 0===s?void 0:s,u=t.x,l=void 0===u?void 0:u,c=t.y,d=void 0===c?void 0:c,f=t.width,p=void 0===f?void 0:f,h=t.height,v=void 0===h?void 0:h,y=t.style,m=void 0===y?{}:y,g=t.visible,b=void 0===g||g,w=t.events,O=void 0===w?{}:w,_=t.hoverLabels,S=void 0===_?{}:_,T=t.windbarbLength,k=void 0===T?void 0:T,x=t.dataGroupIds,P=void 0===x?["windbarbs"]:x,E=t.getCoordinatesByLevelData,R=void 0===E?function(t,e,i,n){return void 0===i.pres||void 0===i.wspd||void 0===i.wdir?{}:{x:n.width/2,y:n.coordinateSystem.height-n.coordinateSystem.getYByXP(0,i.pres)}}:E,j=t.insertDataGroupInto,I=void 0===j?function(t,e,i,n,o){n.forEach((function(e){Yn({node:t,x:o.width/2,y:e.y,wspd:e.levelData.wspd,wdir:e.levelData.wdir,length:o._windbarbLength,strokeStyle:i.options.windprofile.windbarbs.style})}))}:j;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=e.call(this,{svgNode:r,coordinateSystem:a,x:l,y:d,width:p,height:v,style:m,visible:b,events:O,hoverLabels:S,getSoundingVisibility:function(t){return t.visible&&t.options.windprofile.windbarbs.visible},dataGroupIds:P,getCoordinatesByLevelData:R,insertDataGroupInto:I}))._windbarbLength=k,void 0===n._windbarbLength&&(n._windbarbLength=2*n.width/5),n.init(),n}return i}(pr);function Nr(t){return(Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Br(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Cr(t,e,i){return(Cr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ar(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function Lr(t,e){return(Lr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Dr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Ar(t);if(e){var o=Ar(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Mr(this,i)}}function Mr(t,e){return!e||"object"!==Nr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ar(t){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lr(t,e)}(r,t);var e,i,n,o=Dr(r);function r(t){var e,i=t.svgNode,n=void 0===i?void 0:i,s=t.coordinateSystem,a=void 0===s?void 0:s,u=t.x,l=void 0===u?void 0:u,c=t.y,d=void 0===c?void 0:c,f=t.width,p=void 0===f?void 0:f,h=t.height,v=void 0===h?void 0:h,y=t.style,m=void 0===y?{}:y,g=t.visible,b=void 0===g||g,w=t.events,O=void 0===w?{}:w,S=t.hoverLabels,T=void 0===S?{}:S,k=t.windspeedMax,x=void 0===k?_(150):k,P=t.dataGroupIds,E=void 0===P?["windspeed"]:P,R=t.getCoordinatesByLevelData,j=void 0===R?function(t,e,i,n){return void 0===i.pres||void 0===i.wspd?{}:{x:n.width*i.wspd/x,y:n.coordinateSystem.height-n.coordinateSystem.getYByXP(0,i.pres)}}:R,I=t.insertDataGroupInto,N=void 0===I?function(t,e,i,n){t.polyline(n.map((function(t){return[t.x,t.y]}))).fill("none").stroke(i.options.windprofile.windspeed.style)}:I;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,{svgNode:n,coordinateSystem:a,x:l,y:d,width:p,height:v,style:m,visible:b,events:O,hoverLabels:T,getSoundingVisibility:function(t){return t.visible&&t.options.windprofile.windspeed.visible},dataGroupIds:E,getCoordinatesByLevelData:j,insertDataGroupInto:N})).init(),e}return e=r,(i=[{key:"_drawBackground",value:function(t){Cr(Ar(r.prototype),"_drawBackground",this).call(this,t),t.line(0,0,0,this.height).stroke({color:"black",width:1}),t.line(this.width,0,this.width,this.height).stroke({color:"black",width:1})}},{key:"_initHoverLabels",value:function(t){var e=t.visible,i=void 0===e||e,n=t.type,o=void 0===n?"mousemove":n,s=t.snapToData,a=void 0===s||s,u=t.remote,l=void 0===u||u,c=t.insertLabelsFunc,d=void 0===c?void 0:c,f=t.windspeed,p=void 0===f?{}:f;"visible"in p||(p.visible=!0),"style"in p||(p.style={}),p.font=Dn(p.font,{anchor:"end","alignment-baseline":"bottom"}),"fill"in p||(p.fill={}),void 0===p.fill.opacity&&(p.fill.opacity=.7),p.radius="radius"in p?p.radius:void 0,p.radiusPlus="radiusPlus"in p?p.radiusPlus:2,void 0===p.horizontalMargin&&(p.horizontalMargin=10),void 0===d&&(d=this._makeInsertLabelsFunc(p)),Cr(Ar(r.prototype),"_initHoverLabels",this).call(this,{visible:i,type:o,snapToData:a,remote:l,insertLabelsFunc:d})}},{key:"_makeInsertLabelsFunc",value:function(t){var e=this;return function(i,n,o){if(o.clear(),void 0!==n.pres&&t.visible&&void 0!==n.wspd){var r=e._getCoordinatesByLevelData("windspeed",i,n,e),s=r.x,a=r.y;if(void 0!==s&&void 0!==a){var u=void 0===t.radius?e.hoverLabelsSounding.options.windprofile.windspeed.style.width/2+t.radiusPlus:t.radius,l=t.style;"color"in l||(l.color=i.options.windprofile.windspeed.style.color),o.circle(2*u).attr({cx:s,cy:a}).fill(l),Gn({node:o,text:"".concat(Math.round(10*O(n.wspd))/10," kn"),x:s,y:a,horizontalMargin:t.horizontalMargin,verticalMargin:t.verticalMargin,font:t.font,fill:t.fill})}}}}}])&&Br(e.prototype,i),n&&Br(e,n),r}(pr);function Yr(t){return(Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vr(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Fr(t,e,i){return(Fr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function Xr(t,e){return(Xr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Hr(t);if(e){var o=Hr(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return zr(this,i)}}function zr(t,e){return!e||"object"!==Yr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hr(t){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Kr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xr(t,e)}(r,t);var e,i,n,o=qr(r);function r(t){var e,i=t.svgNode,n=void 0===i?void 0:i,s=t.coordinateSystem,a=t.x,u=t.y,l=t.width,c=t.height,d=t.style,f=void 0===d?{}:d,p=t.visible,h=void 0===p||p,v=t.events,y=void 0===v?{}:v,m=t.grid,g=void 0===m?{}:m,b=t.windspeedMax,w=void 0===b?_(150):b,O=t.origin,S=void 0===O?void 0:O;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,{svgNode:n,coordinateSystem:s,x:a,y:u,width:l,height:c,style:f,visible:h,events:y,getSoundingVisibility:function(t){return t.visible&&t.options.hodograph.visible}}))._gridOptions=e.getNormalizedGridOptions(g),e.center=[e.width/2,e.height/2],void 0!==S&&(e.center[0]-=S[0]*e.minLength/2,e.center[1]+=S[1]*e.minLength/2),e.pixelPerSpeed=Math.min(Math.max(e.width-e.center[0],e.center[0]),Math.max(e.height-e.center[1],e.center[1]))/w,void 0===e._gridOptions.max&&(e._gridOptions.max=w),e.init(),e}return e=r,(i=[{key:"drawSounding",value:function(t,e){var i=this;Fr(Hr(r.prototype),"drawSounding",this).call(this,t,e);var n=[];t.sounding.getLevels().forEach((function(e){if(void 0!==e){var o=t.sounding.getData(e);if(void 0!==o.wdir&&void 0!==o.wspd){var r=o.wspd*-Math.sin(o.wdir/180*Math.PI),s=o.wspd*Math.cos(o.wdir/180*Math.PI);n.push([i.center[0]+r*i.pixelPerSpeed,i.center[1]+s*i.pixelPerSpeed])}}})),e.polyline(n).fill("none").stroke(t.options.hodograph.style)}},{key:"_drawBackground",value:function(t){if(Fr(Hr(r.prototype),"_drawBackground",this).call(this,t),t.rect(this.width-2,this.height-2).move(1,1).fill({color:"white"}).stroke({color:"black",width:1}),this._gridOptions.axes.visible){var e=this._gridOptions.max+this._gridOptions.circles.interval/2;t.line(Math.max(0,this.center[0]-e*this.pixelPerSpeed),this.center[1],Math.min(this.width,this.center[0]+e*this.pixelPerSpeed),this.center[1]).stroke(this._gridOptions.axes.style),t.line(this.center[0],Math.max(0,this.center[1]-e*this.pixelPerSpeed),this.center[0],Math.min(this.height,this.center[1]+e*this.pixelPerSpeed)).stroke(this._gridOptions.axes.style)}for(var i=this._gridOptions.circles.interval;i<=this._gridOptions.max;i+=this._gridOptions.circles.interval){var n=i*this.pixelPerSpeed;if(t.circle(2*n).attr({cx:this.center[0],cy:this.center[1]}).fill("none").stroke(this._gridOptions.circles.style),this._gridOptions.labels.visible){var o=n*Math.cos((this._gridOptions.labels.angle-90)/180*Math.PI),s=n*Math.sin((this._gridOptions.labels.angle-90)/180*Math.PI),a="middle",u=0,l=-this._gridOptions.labels.font.size;0==this._gridOptions.labels.angle||180==this._gridOptions.labels.angle?(u=-3,a="end"):90!=this._gridOptions.labels.angle&&270!=this._gridOptions.labels.angle||(l=-3);var c=t.plain(""+Math.round(b(i))).move(this.center[0]+o,this.center[1]+s).attr({"text-anchor":a,dx:u,dy:l}).font(this._gridOptions.labels.font),d=c.bbox();c.before(t.rect(d.width,d.height).move(d.x,d.y).fill("white"))}}}},{key:"getNormalizedGridOptions",value:function(t){var e=t.axes,i=void 0===e?{}:e,n=t.circles,o=void 0===n?{}:n,r=t.labels,s=void 0===r?{}:r,a=t.max,u=void 0===a?void 0:a;return i=Mn(i),"interval"in(o=Mn(o))&&void 0!==o.interval||(o.interval=w(50)),"angle"in(s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.visible,i=void 0===e||e,n=t.font,o=void 0===n?{}:n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{visible:An(i,r.visible,!0),font:Dn(o,r.font)}}(s))&&void 0!==s.angle||(s.angle=225),void 0===s.font.size&&(s.font.size=10),{axes:i,circles:o,labels:s,max:u}}}])&&Vr(e.prototype,i),n&&Vr(e,n),r}(ir);function Ur(t){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zr(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $r(t,e,i){return($r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ts(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function Jr(t,e){return(Jr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=ts(t);if(e){var o=ts(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Qr(this,i)}}function Qr(t,e){return!e||"object"!==Ur(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ts(t){return(ts=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var es=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jr(t,e)}(r,t);var e,i,n,o=Wr(r);function r(t){var e,i,n,s,a,u,l=t.svgNode,c=void 0===l?void 0:l,d=t.coordinateSystem,f=t.x,p=t.y,h=t.width,v=t.height,y=t.style,m=void 0===y?{}:y,g=t.visible,b=void 0===g||g,w=t.events,O=void 0===w?{}:w,_=t.labels,S=void 0===_?{}:_,T=t.title,k=void 0===T?{}:T;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),void 0===m.overflow&&(m.overflow="visible"),(e=o.call(this,{svgNode:c,coordinateSystem:d,x:f,y:p,width:h,height:v,style:m,visible:b,events:O}))._labelsOptions=(n=(i=S).enabled,s=void 0===n||n,a=i.style,(u={enabled:s,style:void 0===a?{}:a}).style=Ln(u.style),u),e._titleOptions=function(t){var e=t.align,i=void 0===e?"middle":e,n=t.style,o=void 0===n?{}:n,r=t.text,s=void 0===r?void 0:r,a={align:i,style:o,text:s};return a.style=Ln(a.style),a}(k),e.init(),e}return e=r,(i=[{key:"_drawBackground",value:function(t){if($r(ts(r.prototype),"_drawBackground",this).call(this,t),this._labelsOptions.enabled)for(var e=t.group(),i=50*Math.ceil(this.coordinateSystem.getPByXY(0,this.height)/50),n=50*Math.floor(this.coordinateSystem.getPByXY(0,0)/50),o=i;o<=n;o+=50){var s=this.height-this.coordinateSystem.getYByXP(0,o);e.plain(o).attr({y:s+3.3,x:this.width}).font({size:"11px",anchor:"end"}).attr({fill:this._labelsOptions.style.color})}void 0!==this._titleOptions.text&&t.group().plain(this._titleOptions.text).attr({x:12*.4,y:this.height/2,fill:this._titleOptions.style.color}).font({size:12,anchor:"middle"}).rotate(-90)}}])&&Zr(e.prototype,i),n&&Zr(e,n),r}(zo),is=es;function ns(t){return(ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function os(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rs(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ss(t,e){return(ss=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function as(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=ls(t);if(e){var o=ls(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return us(this,i)}}function us(t,e){return!e||"object"!==ns(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ls(t){return(ls=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var cs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ss(t,e)}(r,t);var e,i,n,o=as(r);function r(){return os(this,r),o.apply(this,arguments)}return e=r,(i=[{key:"_drawBackground",value:function(t){if(t.clear(),this._labelsOptions.enabled)for(var e=t.group(),i=10*Math.ceil(g(this.coordinateSystem.getTByXY(0,0))/10),n=10*Math.floor(g(this.coordinateSystem.getTByXY(this.width,0))/10),o=i;o<=n;o+=10){var r=m(o);e.plain(Math.round(g(r))).attr({x:this.coordinateSystem.getXByYT(0,r),y:10,fill:this._labelsOptions.style.color}).font({size:"10px",anchor:"middle"})}void 0!==this._titleOptions.text&&t.group().plain(this._titleOptions.text).attr({x:this.width/2,y:this.height-12*.3,fill:this._titleOptions.style.color}).font({size:12,anchor:"middle"})}}])&&rs(e.prototype,i),n&&rs(e,n),r}(is),ds=cs;function fs(t){return(fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ps(t,e){if(null==t)return{};var i,n,o=function(t,e){if(null==t)return{};var i,n,o={},r=Object.keys(t);for(n=0;n<r.length;n++)i=r[n],e.indexOf(i)>=0||(o[i]=t[i]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)i=r[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(o[i]=t[i])}return o}function hs(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vs(t,e){return(vs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ys(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=gs(t);if(e){var o=gs(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return ms(this,i)}}function ms(t,e){return!e||"object"!==fs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gs(t){return(gs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vs(t,e)}(r,t);var e,i,n,o=ys(r);function r(t){var e,i=t.renderTo,n=void 0===i?void 0:i,s=t.width,a=void 0===s?void 0:s,u=t.height,l=void 0===u?void 0:u,c=t.coordinateSystem,d=void 0===c?{}:c,f=t.diagram,p=void 0===f?{}:f,h=t.windbarbsProfile,v=void 0===h?{}:h,y=t.windspeedProfile,m=void 0===y?{}:y,g=t.hodograph,b=void 0===g?{}:g,w=t.xAxis,O=void 0===w?{}:w,_=t.yAxis,S=void 0===_?{}:_;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),e=o.call(this,{renderTo:n,width:a,height:l}),p=ws(p),v=ws(v),m=ws(m),b=ws(b),O=ws(O),S=ws(S);var T=.05*e.svgNode.width();return void 0===O.width&&void 0===p.width&&void 0===v.width&&void 0===m.width?(S.width=.1*(e.svgNode.width()-2*T),p.width=.7*(e.svgNode.width()-2*T),v.width=.2*(e.svgNode.width()-2*T)*1/3,m.width=.2*(e.svgNode.width()-2*T)*2/3):void 0===p.width?p.width=e.svgNode.width()-2*T-v.width-m.width:void 0===v.width&&void 0===m.width&&(v.width=1*(e.svgNode.width()-2*T-p.width)/3,m.width=2*(e.svgNode.width()-2*T-p.width)/3),void 0===S.x&&void 0===p.x&&void 0===v.x&&void 0===m.x?(S.x=T,p.x=S.x+S.width,v.x=p.x+p.width,m.x=v.x+v.width):void 0===p.x?p.x=v.x-v.width:void 0===v.x&&void 0===m.x&&(v.x=p.x+p.width,m.x=v.x+v.width),void 0===O.height&&(O.height=.06*e.svgNode.height()),void 0===p.height&&(p.height=e.svgNode.height()-O.height-2*T),void 0===S.height&&(S.height=p.height),void 0===v.height&&(v.height=p.height),void 0===m.height&&(m.height=p.height),void 0===p.y&&(p.y=T),void 0===S.y&&(S.y=p.y),void 0===v.y&&(v.y=p.y),void 0===m.y&&(m.y=p.y),void 0===O.width&&(O.width=p.width),void 0===O.x&&(O.x=p.x),void 0===O.y&&(O.y=p.y+p.height),void 0===O.height&&(O.height=T),void 0===b.x&&(b.x=p.x),void 0===b.y&&(b.y=p.y),void 0===b.width&&(b.width=.4*Math.min(p.width,p.height)),void 0===b.height&&(b.height=b.width),e.diagram=new Tr(p),e.appendPlotArea(e.diagram),e.yAxis=new es(S),e.appendPlotArea(e.yAxis),e.xAxis=new cs(O),e.appendPlotArea(e.xAxis),e.windbarbsProfile=new Ir(v),e.appendPlotArea(e.windbarbsProfile),e.windspeedProfile=new Gr(m),e.appendPlotArea(e.windspeedProfile),e.hodograph=new Kr(b),e.appendPlotArea(e.hodograph),void 0===d.type&&(d.type="skewTlogP"),d.width=p.width,d.height=p.height,e._coordinateSystem,e.coordinateSystem="stueve"==d.type?new Po(d):"emagram"==d.type?new Co(d):new Vo(d),e}return e=r,(i=[{key:"getDiagramPlotArea",value:function(){return this.diagram}},{key:"coordinateSystem",get:function(){return this._coordinateSystem},set:function(t){this._coordinateSystem=t,this.exchangeCoordinateSystem(this._coordinateSystem)}}])&&hs(e.prototype,i),n&&hs(e,n),r}(ho);function ws(t){var e=t.svgNode,i=void 0===e?void 0:e,n=t.coordinateSystem,o=void 0===n?void 0:n,r=t.x,s=void 0===r?void 0:r,a=t.y,u=void 0===a?void 0:a,l=t.width,c=void 0===l?void 0:l,d=t.height,f=void 0===d?void 0:d,p=t.style,h=void 0===p?{}:p,v=t.visible,y=void 0===v||v,m=t.events,g=void 0===m?{}:m,b=t.hoverLabels,w=void 0===b?{}:b,O=ps(t,["svgNode","coordinateSystem","x","y","width","height","style","visible","events","hoverLabels"]);return O.svgNode=i,O.coordinateSystem=o,O.x=s,O.y=u,O.width=c,O.height=f,O.style=h,O.visible=y,O.events=g,O.hoverLabels=w,O}var Os={addEventFunctions:C},_s={Animation:tt,Visualisation:lt,makeTimeTextCallbackFunction:function(t){return function(e,i){var n=t.utc(e);return void 0!==this.options.outputTimezone&&("local"==this.options.outputTimezone?n.local():n.tz(this.options.outputTimezone)),n.format(i)}},animation:{ToggleButton:rt,insertFrequencyInput:et,insertFrequencyRange:it,insertFrequencyButtonGroup:function(t,e){var i=e.animation,n=e.frequencies,o=e.btnGroupClass,r=void 0===o?"btn-group":o,s=e.btnClass,a=void 0===s?"btn btn-primary":s,u=e.suffix,l=void 0===u?"fps":u,c=$()("<div>").addClass(r);(n=n||[]).forEach((function(t){c.append($()("<button>").addClass(a).data("frequency",t).text(t+" "+l).click((function(){return i.setImageFrequency(t)})))}));var d=function(){c.children("button").removeClass("active").each((function(){$()(this).data("frequency")==i.getImageFrequency()&&$()(this).addClass("active")}))};return i.on("change:imageFrequency",d),d(),t.append(c),c},insertRestartPauseInput:nt,insertRestartPauseRange:function(t,e){var i=e.animation,n=e.pauses;n=(n=n||[1]).map((function(t){return Math.round(1e3*t)}));var o=$()("<input>").addClass("custom-range").attr("type","range").attr("min",0).attr("max",n.length-1);o.on("change input",(function(){var t=o.val();t<n.length&&i.setRestartPause(n[t]/1e3)}));var r=function(){var t=n.indexOf(Math.round(1e3*i.getRestartPause()));t>-1&&o.val(t)};return i.on("change:imageFrequency",r),r(),t.append(o),o},insertRestartPauseButtonGroup:function(t,e){var i=e.animation,n=e.pauses,o=e.btnGroupClass,r=void 0===o?"btn-group":o,s=e.btnClass,a=void 0===s?"btn btn-primary":s,u=e.suffix,l=void 0===u?"s":u,c=$()("<div>").addClass(r);(n=n||[]).forEach((function(t){c.append($()("<button>").addClass(a).data("pause",t).text(t+" "+l).click((function(){return i.setRestartPause(t)})))}));var d=function(){c.children("button").removeClass("active").each((function(){$()(this).data("pause")==i.getRestartPause()&&$()(this).addClass("active")}))};return i.on("change:restartPause",d),d(),t.append(c),c}},visualisation:{Text:gt,Slider:kt,bsButtons:Ct,bsDropdown:qt}},Ss={Collection:$t,Map:Kt,map:{MapOL:Ye,MapLL:Ke},Resource:re,resource:{GeoJSON:di,GeoJSONTile:Ri,Image:Vi,OSM:Qi,Vector:ri,VectorTile:Si},ResourceCollection:pe,Tooltip:xe,Type:me,TypeCollection:ke},Ts={BootstrapTooltip:fn},ks={Parcel:Pn},xs={CoordinateSystem:go,coordinateSystem:{StueveDiagram:Po,Emagram:Co,SkewTlogPDiagram:Vo},DiagramSounding:Zn,Hodograph:Kr,TDDiagram:Tr,functions:{drawWindbarbInto:Yn},WindbarbsProfile:Ir,WindspeedProfile:Gr,axes:{xAxis:ds,yAxis:is}}}]);
//# sourceMappingURL=meteoJS.min.js.map