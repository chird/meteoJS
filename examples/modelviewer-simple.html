<html>
  <head>
    <title>Modelviewer example: simple design</title>
    <meta charset="UTF-8">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script> <!-- requirement for tooltips //-->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
    <script src="https://openlayers.org/en/v5.2.0/build/ol.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.1/moment.min.js" integrity="sha256-L3S3EDEk31HcLA5C6T2ovHvOcD80+fgqaCDt2BAi92o=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/svg.js/2.7.1/svg.min.js"></script>
    <script src="../meteoJS.js" type="text/javascript"></script>
    <!-- creates global variable resources //-->
    <script src="img/nwp/icon_resources.js" type="text/javascript"></script>
  </head>
  <body>
    <div class="container">
      <div class="row mb-3">
        <div class="col-12">
          <h1>Modelviewer example: simple design</h1>
          <p class="text-muted">…</p>
        </div>
      </div>
      <div class="row mb-3">
        <div class="col-12 d-flex">
          <div class="align-self-center flex-grow-1">
            <input type="range" class="custom-range"></input>
          </div>
          <div class="ml-4 align-self-center">
            <p class="text"></p>
          </div>
        </div>
      </div>
      <div class="row modelContainer">
      </div>
    </div>
  </body>
  <script type="text/javascript">
$(document).ready(() => {
  let modelviewer = new meteoJS.Modelviewer({
    resources,
    containersNode: $('div.modelContainer'),
    makeContainerNode: container => {
      let div = $('<div>').addClass('col-12 col-md-6 col-lg-4');
      $('div.modelContainer').append(div);
      return div;
    }
  });
  new meteoJS.timeline.visualisation.Text({
    timeline: modelviewer.timeline,
    node: $('p.text'),
    format: 'HH:mm, ddd, DD. MMM YYYY [UTC]'
  });
  new meteoJS.timeline.visualisation.Slider({
    timeline: modelviewer.timeline,
    node: $('input[type=range]')
  });
  let containerGPH = new meteoJS.modelviewer.Container({
    display: new meteoJS.modelviewer.display.Simple()
  });
  modelviewer.append(containerGPH);
  containerGPH.displayVariables = [
    resources.regions.getVariableById('eur'),
    resources.fields.getVariableById('gpd'),
    resources.levels.getVariableById('250hPa')
  ];
  console.log([...containerGPH.displayVariables].map(v => v.id));
  console.log([...containerGPH.selectedVariables].map(v => v.id));
  let containerTT = new meteoJS.modelviewer.Container({
    display: new meteoJS.modelviewer.display.Simple()
  });
  modelviewer.append(containerTT);
  containerTT.displayVariables = [
    resources.regions.getVariableById('eur'),
    resources.fields.getVariableById('tt'),
    resources.levels.getVariableById('850hPa')
  ];
  console.log([...containerTT.displayVariables].map(v => v.id));
  console.log([...containerTT.selectedVariables].map(v => v.id));
  let containerRR = new meteoJS.modelviewer.Container({
    display: new meteoJS.modelviewer.display.Simple()
  });
  modelviewer.append(containerRR);
  containerRR.displayVariables = [
    resources.regions.getVariableById('eur'),
    resources.fields.getVariableById('rr'),
    resources.accumulations.getVariableById(6)
  ];
  console.log([...containerRR.displayVariables].map(v => v.id));
  console.log([...containerRR.selectedVariables].map(v => v.id));
});
  </script>
</html>